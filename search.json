[{"title":"QACacheå®Œæ•´é¡¹ç›®ä¼åˆ’","url":"/2025/07/18/QACache_1/","content":"QACacheå®Œæ•´é¡¹ç›®ä¼åˆ’\nåŸºäºå¯¹æ‚¨å½“å‰ llmcache é¡¹ç›®çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä¸ºæ‚¨çš„å“åº”ç¼“å­˜æœåŠ¡æ„æƒ³æä¾›ä»¥ä¸‹å®Œå–„çš„æŠ€æœ¯æ–¹æ¡ˆï¼š\nå½“å‰é¡¹ç›®åˆ†æ\næ‚¨çš„é¡¹ç›®å·²ç»å…·å¤‡äº†è¾ƒä¸ºå®Œæ•´çš„æ¶æ„ï¼š\n\nWeb UIå±‚ï¼šFlaskå‰ç«¯ï¼Œæ”¯æŒå¤šä¼šè¯ç®¡ç†å’Œä¸Šä¸‹æ–‡é€‰æ‹©\nç¼“å­˜æœåŠ¡å±‚ï¼šåŸºäºElasticsearchçš„è¯­ä¹‰æœç´¢å’Œå‘é‡ç¼“å­˜\næ¨¡å‹é›†æˆï¼šSentenceTransformeråµŒå…¥æ¨¡å‹ + OpenAIå…¼å®¹API\néƒ¨ç½²è‡ªåŠ¨åŒ–ï¼šDockerå®¹å™¨åŒ–çš„Elasticsearchéƒ¨ç½²\n\nä¸‰å±‚æ¶æ„æŠ€æœ¯è·¯çº¿\n1. ç”¨æˆ·ä¾§è½»é‡ç¼“å­˜æœåŠ¡\næ ¸å¿ƒç‰¹ç‚¹ï¼šè½»é‡åŒ–ã€é«˜å¬å›ç‡ã€å®æ—¶äº¤äº’\næŠ€æœ¯é€‰å‹ï¼š\n\nå­˜å‚¨å¼•æ“ï¼šSQLite + FTS5å…¨æ–‡æœç´¢ æˆ– ChromaDB\nåµŒå…¥æ¨¡å‹ï¼šè½»é‡çº§æ¨¡å‹å¦‚ all-MiniLM-L6-v2 (22MB)\néƒ¨ç½²æ–¹å¼ï¼šå•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åº + ä¸€é”®å¯åŠ¨è„šæœ¬\nç¼“å­˜ç­–ç•¥ï¼šæœ¬åœ°LRUç¼“å­˜ + å¼‚æ­¥åŒæ­¥\n\nå®ç°è¦ç‚¹ï¼š\n# è½»é‡çº§ç¼“å­˜æœåŠ¡æ¶æ„class LightweightCache:    def __init__(self):        self.local_db = sqlite3.connect(&quot;user_cache.db&quot;)        self.embedder = SentenceTransformer(&quot;all-MiniLM-L6-v2&quot;)        self.lru_cache = LRUCache(maxsize=1000)        def search(self, query, threshold=0.7):        # é«˜å¬å›ç‡æœç´¢ï¼Œé˜ˆå€¼è¾ƒä½        return self.fuzzy_search(query, top_k=20)\n2. å¤§æ¨¡å‹ä¾§ç²¾å‡†ç¼“å­˜æœåŠ¡\næ ¸å¿ƒç‰¹ç‚¹ï¼šé«˜æ€§èƒ½ã€ä½å¬å›ç‡ã€ç²¾å‡†åŒ¹é…\næŠ€æœ¯ä¼˜åŒ–å»ºè®®ï¼š\n\nä¿ç•™å½“å‰Elasticsearchæ¶æ„ï¼Œä½†ä¼˜åŒ–æœç´¢ç­–ç•¥\næé«˜ç›¸ä¼¼åº¦é˜ˆå€¼ï¼šä»0.9è°ƒæ•´åˆ°0.95+\nå¢åŠ é‡æ’åºæœºåˆ¶ï¼šé›†æˆæ‚¨å·²æœ‰çš„rerankeræ¨¡å—\nç¼“å­˜é¢„çƒ­ï¼šå®šæœŸåˆ†æçƒ­é—¨æŸ¥è¯¢æ¨¡å¼\n\næ”¹è¿›æ–¹æ¡ˆï¼š\n# æœåŠ¡ä¾§ç²¾å‡†æœç´¢ä¼˜åŒ–class PrecisionCache(ES):    def search(self, query, precision_mode=True):        if precision_mode:            # é«˜ç²¾åº¦æ¨¡å¼ï¼šä¸¥æ ¼é˜ˆå€¼ + é‡æ’åº            results = super().search(query, method=&quot;knn&quot;)            return self.rerank_and_filter(results, threshold=0.95)        return super().search(query)\n3. CDN + å±€åŸŸç½‘ç½‘å…³æœåŠ¡\næ¶æ„è®¾è®¡ï¼š\nç”¨æˆ·è®¾å¤‡ â†’ å±€åŸŸç½‘ç½‘å…³ â†’ CDNèŠ‚ç‚¹ â†’ ä¸­å¿ƒç¼“å­˜æœåŠ¡\næŠ€æœ¯å®ç°ï¼š\n\nç½‘å…³æœåŠ¡ï¼šåŸºäºNginx + Luaè„šæœ¬çš„æ™ºèƒ½è·¯ç”±\næ•°æ®æ”¶é›†ï¼šç”¨æˆ·æŸ¥è¯¢æ¨¡å¼åˆ†æå’ŒåŒ¿ååŒ–å¤„ç†\nç¼“å­˜åˆ†å‘ï¼šåŸºäºåœ°ç†ä½ç½®å’Œç”¨æˆ·ç”»åƒçš„å®šå‘æ¨é€\nå†·å¯åŠ¨è§£å†³ï¼šé¢„ç½®é€šç”¨çŸ¥è¯†åº“ + æ¸è¿›å¼å­¦ä¹ \n\nå…³é”®æŠ€æœ¯ç»†èŠ‚è¡¥å……\n1. æ•°æ®åŒæ­¥æœºåˆ¶\n\nç”¨æˆ·ä¾§â†’æœåŠ¡ä¾§ï¼šå¼‚æ­¥ä¸Šä¼ æ–°æŸ¥è¯¢å’Œåé¦ˆ\næœåŠ¡ä¾§â†’CDNï¼šå®šæœŸæ¨é€çƒ­é—¨ç¼“å­˜æ•°æ®\nCDNâ†’ç”¨æˆ·ä¾§ï¼šæ™ºèƒ½é¢„åŠ è½½å’Œå¢é‡æ›´æ–°\n\n2. éšç§ä¿æŠ¤ç­–ç•¥\n\næŸ¥è¯¢å†…å®¹å“ˆå¸ŒåŒ–å­˜å‚¨\nå·®åˆ†éšç§æŠ€æœ¯ä¿æŠ¤ç”¨æˆ·æ¨¡å¼\næœ¬åœ°æ•æ„Ÿæ•°æ®ä¸ä¸Šä¼ æœºåˆ¶\n\n3. æ€§èƒ½ä¼˜åŒ–å»ºè®®\n\nå‘é‡ç´¢å¼•ï¼šHNSWç®—æ³•ä¼˜åŒ–ï¼ˆæ‚¨å·²åœ¨ä½¿ç”¨ï¼‰\nç¼“å­˜åˆ†å±‚ï¼šå†…å­˜â†’SSDâ†’ç½‘ç»œçš„å¤šçº§ç¼“å­˜\nè´Ÿè½½å‡è¡¡ï¼šåŸºäºæŸ¥è¯¢å¤æ‚åº¦çš„æ™ºèƒ½åˆ†å‘\n\n4. éƒ¨ç½²å’Œè¿ç»´\n\nç”¨æˆ·ä¾§ï¼šDockerå®¹å™¨ + è‡ªåŠ¨æ›´æ–°æœºåˆ¶\næœåŠ¡ä¾§ï¼šKubernetesé›†ç¾¤ + å¼¹æ€§ä¼¸ç¼©\nç›‘æ§ä½“ç³»ï¼šç¼“å­˜å‘½ä¸­ç‡ã€å“åº”æ—¶é—´ã€ç”¨æˆ·æ»¡æ„åº¦æŒ‡æ ‡\n\nå®æ–½è·¯çº¿å›¾\nç¬¬ä¸€é˜¶æ®µï¼šåŸºäºç°æœ‰ä»£ç ä¼˜åŒ–æœåŠ¡ä¾§ç²¾å‡†åº¦\nç¬¬äºŒé˜¶æ®µï¼šå¼€å‘è½»é‡çº§ç”¨æˆ·ä¾§å®¢æˆ·ç«¯\nç¬¬ä¸‰é˜¶æ®µï¼šæ„å»ºCDNç½‘å…³å’Œæ•°æ®åˆ†å‘ç³»ç»Ÿ\nç¬¬å››é˜¶æ®µï¼šå®Œå–„ç›‘æ§ã€åˆ†æå’Œè‡ªåŠ¨ä¼˜åŒ–æœºåˆ¶\nè¿™ä¸ªæ–¹æ¡ˆå……åˆ†åˆ©ç”¨äº†æ‚¨ç°æœ‰çš„æŠ€æœ¯ç§¯ç´¯ï¼ŒåŒæ—¶ä¸ºä¸åŒåœºæ™¯æä¾›äº†å·®å¼‚åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚å»ºè®®ä»ä¼˜åŒ–å½“å‰æœåŠ¡ä¾§å¼€å§‹ï¼Œé€æ­¥æ‰©å±•åˆ°å®Œæ•´çš„ä¸‰å±‚æ¶æ„ã€‚\n"},{"title":"Rustç¬”è®°ï¼ˆä¸€ï¼‰","url":"/2025/07/10/Rust%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/","content":"å¼€ç«¯\nå‚è€ƒRustè¯­è¨€åœ£ç»(Rust Course)\nWindowsä¸Šçš„Rustæœ‰ä¸¤ä¸ªç‰ˆæœ¬MSVCå’ŒGNUï¼Œè¿™é‡Œæ¶‰åŠåˆ°Microsoft C++ Build Tools(å¯¹åº”äºMSVCç‰ˆæœ¬ï¼Œå®˜æ–¹æ¨è)å®‰è£…c++ç¯å¢ƒï¼Œæˆ–è€…MSYS2(å¯¹åº”äºGNUç‰ˆæœ¬)å®‰è£…c++ç¯å¢ƒã€‚\n\nå…¶å®ƒå®‰è£…çš„ç»†èŠ‚ï¼Œä»¥åŠåœ¨å…¶å®ƒç³»ç»Ÿä¸Šçš„å®‰è£…æ–¹å¼ï¼Œè¯·ä»”ç»†é˜…è¯»ä»¥ä¸Šå‚è€ƒæ–‡æ¡£ã€‚\nå¯ä»¥ä½¿ç”¨å‘½ä»¤rustup docæŸ¥çœ‹æ–‡æ¡£ã€‚\nåœ¨neovimé‡Œé…ç½®Rustå¼€å‘ç¯å¢ƒ\n\nå®‰è£…rust-analyzerï¼Œè¿™æ˜¯Rustçš„LSPï¼Œéœ€è¦å¯¹&quot;neovim/nvim-lspconfig&quot;è¿›è¡Œé…ç½®ã€‚\nå®‰è£…&quot;saecki/crates.nvim&quot;æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ç”¨æ¥æä¾›ä¾èµ–ä¿¡æ¯çš„å¢å¼ºæ”¯æŒã€‚\nä»¥ä¸Šä¸¤è€…çš„é…ç½®å¦‚ä¸‹plugins\\lsp.luaæ‰€ç¤ºï¼š\n\nreturn &#123;  &#123;    &quot;neovim/nvim-lspconfig&quot;,    opts = &#123;      inlay_hints = &#123; enable = true &#125;,      servers = &#123;        lua_ls = &#123;          settings = &#123;            Lua = &#123;              hint = &#123; enable = true &#125;,            &#125;,          &#125;,        &#125;,        [&quot;rust_analyzer&quot;] = &#123;          settings = &#123;            cargo = &#123; allFeatures = true &#125;,          &#125;,        &#125;,      &#125;,    &#125;,  &#125;,  &#123;    &quot;saecki/crates.nvim&quot;,    tag = &quot;stable&quot;,    config = function()      require(&quot;crates&quot;).setup(&#123;&#125;)    end,  &#125;,&#125;\n\né…ç½®Rustè°ƒè¯•ï¼Œå‚è€ƒnvim-dap\nå…·ä½“é…ç½®å¦‚plugin\\dap-rust.luaæ‰€ç¤ºï¼Œéœ€è¦ä¿®æ”¹codelldb.exeçš„è·¯å¾„ï¼š\n\nreturn &#123;  &quot;mfussenegger/nvim-dap&quot;,  -- å¼ºçƒˆæ¨èå®‰è£… nvim-dap-ui æ¥è·å¾—æ›´å¥½çš„è°ƒè¯• UI ä½“éªŒ  dependencies = &#123;    &quot;rcarriga/nvim-dap-ui&quot;,    &quot;nvim-neotest/nvim-nio&quot;,  &#125;,  config = function()    local dap = require(&quot;dap&quot;)    local dapui = require(&quot;dapui&quot;)    -- =================================================================    -- 1. é€‚é…å™¨å®šä¹‰ (Adapter Definition)    -- è¿™éƒ¨åˆ†å†…å®¹æ¥è‡ªæ–‡æ¡£ï¼Œå¹¶é’ˆå¯¹ä½ çš„ v1.11.5 ç‰ˆæœ¬å’Œ Windows ç¯å¢ƒè¿›è¡Œäº†é€‚é…    -- =================================================================    dap.adapters.codelldb = &#123;      type = &quot;server&quot;,      port = &quot;$&#123;port&#125;&quot;,      executable = &#123;        -- !!! é‡è¦ !!! è¯·å°†è¿™é‡Œçš„è·¯å¾„æ›¿æ¢ä¸ºä½ ç¬¬ä¸€æ­¥ä¸­è§£å‹å¾—åˆ°çš„çœŸå®è·¯å¾„ã€‚        -- åœ¨ Lua å­—ç¬¦ä¸²ä¸­ï¼Œå³ä½¿æ˜¯ Windows è·¯å¾„ï¼Œä¹Ÿå»ºè®®ä½¿ç”¨æ­£æ–œæ  &quot;/&quot;        command = &quot;C:/Users/weimo/AppData/Local/nvim/src/lldb/extension/adapter/codelldb.exe&quot;,        args = &#123; &quot;--port&quot;, &quot;$&#123;port&#125;&quot; &#125;,        -- æ ¹æ®æ–‡æ¡£å»ºè®®ï¼Œåœ¨ Windows ä¸Šï¼Œä½ å¯èƒ½éœ€è¦è®¾ç½®è¿™ä¸ªä¸º false        -- è¿™èƒ½ç¡®ä¿ Neovim é€€å‡ºæ—¶ï¼Œcodelldb è¿›ç¨‹ä¹Ÿèƒ½è¢«æ­£ç¡®å…³é—­        detached = false,      &#125;,    &#125;    -- =================================================================    -- 2. è°ƒè¯•é…ç½® (Debug Configuration)    -- è¿™éƒ¨åˆ†å‘Šè¯‰ nvim-dap å¦‚ä½•å¯åŠ¨ä¸€ä¸ª Rust ç¨‹åºçš„è°ƒè¯•ä¼šè¯    -- =================================================================    dap.configurations.rust = &#123;      &#123;        name = &quot;Launch file (codelldb)&quot;,        type = &quot;codelldb&quot;, -- å¿…é¡»ä¸ä¸Šé¢ dap.adapters ä¸­å®šä¹‰çš„åå­—ä¸€è‡´        request = &quot;launch&quot;,        program = function()          -- å¯åŠ¨æ—¶ä¼šæç¤ºä½ è¾“å…¥è¦è°ƒè¯•çš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„          -- é»˜è®¤ä¼šå¸®ä½ å¡«å……åˆ° cargo çš„ debug è¾“å‡ºç›®å½•          return vim.fn.input(&quot;Path to executable: &quot;, vim.fn.getcwd() .. &quot;/target/debug/&quot;, &quot;file&quot;)        end,        cwd = &quot;$&#123;workspaceFolder&#125;&quot;,        stopOnEntry = false,        -- å¦‚æœä½ çš„ç¨‹åºéœ€è¦å‘½ä»¤è¡Œå‚æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·æ·»åŠ         -- args = &#123; &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot; &#125;,      &#125;,    &#125;    -- å¦‚æœä½ æƒ³ C å’Œ C++ ä¹Ÿä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œå¯ä»¥å–æ¶ˆä¸‹é¢çš„æ³¨é‡Š    -- dap.configurations.c = dap.configurations.rust    -- dap.configurations.cpp = dap.configurations.rust    -- =================================================================    -- 3. DAP UI é…ç½®å’Œäº‹ä»¶ç›‘å¬ (DAP UI Setup)    -- =================================================================    dapui.setup(&#123;      -- å¸ƒå±€é…ç½®: å®šä¹‰äº†å“ªäº›çª—å£ä»¥åŠå®ƒä»¬å¦‚ä½•æ’åˆ—      layouts = &#123;        &#123;          elements = &#123;            -- å·¦ä¾§çª—å£: ä½œç”¨åŸŸå’Œå †æ ˆ            &#123; id = &quot;scopes&quot;, size = 0.5 &#125;, -- 60% çš„ç©ºé—´ç»™å˜é‡ä½œç”¨åŸŸ            &#123; id = &quot;stacks&quot;, size = 0.5 &#125;, -- 40% çš„ç©ºé—´ç»™è°ƒç”¨å †æ ˆ          &#125;,          size = 80, -- å·¦ä¾§è¾¹æ æ€»å…±å ç”¨ 40 åˆ—çš„å®½åº¦          position = &quot;left&quot;, -- ä½ç½®åœ¨å·¦è¾¹        &#125;,        &#123;          elements = &#123;            -- åº•éƒ¨çª—å£: REPL å’Œ Console            &#123; id = &quot;repl&quot;, size = 0.5 &#125;, -- 50% ç©ºé—´ç»™ REPL            &#123; id = &quot;console&quot;, size = 0.5 &#125;, -- 50% ç©ºé—´ç»™ç¨‹åºè¾“å‡º          &#125;,          size = 20, -- åº•éƒ¨é¢æ¿æ€»å…±å ç”¨ 10 è¡Œçš„é«˜åº¦          position = &quot;bottom&quot;, -- ä½ç½®åœ¨åº•éƒ¨        &#125;,      &#125;,      -- å…¶ä»– UI é€‰é¡¹      floating = &#123;        max_height = nil, -- æµ®åŠ¨çª—å£çš„æœ€å¤§é«˜åº¦ (nil è¡¨ç¤ºæ— é™åˆ¶)        max_width = nil, -- æµ®åŠ¨çª—å£çš„æœ€å¤§å®½åº¦ (nil è¡¨ç¤ºæ— é™åˆ¶)        border = &quot;rounded&quot;, -- æµ®åŠ¨çª—å£è¾¹æ¡†æ ·å¼        mappings = &#123;          close = &#123; &quot;q&quot;, &quot;&lt;Esc&gt;&quot; &#125;,        &#125;,      &#125;,      -- åœ¨å˜é‡å’Œç›‘è§†çª—å£ä¸­æ˜¾ç¤ºå€¼çš„å…·ä½“å®ç°      render = &#123;        max_value_lines = 1000, -- æ˜¾ç¤ºå€¼çš„æœ€å¤§è¡Œæ•°      &#125;,    &#125;)    -- åœ¨è°ƒè¯•ä¼šè¯å¼€å§‹æ—¶è‡ªåŠ¨æ‰“å¼€ DAP UIï¼Œåœ¨ç»“æŸæ—¶è‡ªåŠ¨å…³é—­    dap.listeners.after.event_initialized[&quot;dapui_config&quot;] = function()      dapui.open()    end    dap.listeners.before.event_terminated[&quot;dapui_config&quot;] = function()      dapui.close()    end    dap.listeners.before.event_exited[&quot;dapui_config&quot;] = function()      dapui.close()    end    -- =================================================================    -- 4. å¿«æ·é”® (Keymaps)    -- =================================================================    -- åŸºç¡€è°ƒè¯•å¿«æ·é”® (ä½¿ç”¨ &lt;Leader&gt;d å‰ç¼€)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;db&quot;, dap.toggle_breakpoint, &#123; desc = &quot;[DAP] åˆ‡æ¢æ–­ç‚¹&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;dc&quot;, dap.continue, &#123; desc = &quot;[DAP] ç»§ç»­&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;do&quot;, dap.step_over, &#123; desc = &quot;[DAP] å•æ­¥è·³è¿‡&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;di&quot;, dap.step_into, &#123; desc = &quot;[DAP] å•æ­¥è¿›å…¥&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;du&quot;, dap.step_out, &#123; desc = &quot;[DAP] å•æ­¥è·³å‡º&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;dr&quot;, dap.repl.open, &#123; desc = &quot;[DAP] æ‰“å¼€REPL&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;dl&quot;, dap.run_last, &#123; desc = &quot;[DAP] è¿è¡Œä¸Šæ¬¡é…ç½®&quot; &#125;)    vim.keymap.set(&#123; &quot;n&quot;, &quot;v&quot; &#125;, &quot;&lt;Leader&gt;dK&quot;, function()      dapui.eval()    end, &#123; desc = &quot;[DAP] æŸ¥çœ‹å˜é‡å€¼&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;Leader&gt;dt&quot;, dap.terminate, &#123; desc = &quot;[DAP] ç»ˆæ­¢è°ƒè¯•&quot; &#125;) -- æ–°å¢ï¼šç»ˆæ­¢è°ƒè¯•    -- ä¼ ç»Ÿ IDE é£æ ¼çš„ F åŠŸèƒ½é”® (å†—ä½™å¿«æ·é”®)    vim.keymap.set(&quot;n&quot;, &quot;&lt;F5&gt;&quot;, dap.continue, &#123; desc = &quot;[DAP] ç»§ç»­ (F5)&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;F6&gt;&quot;, dap.pause, &#123; desc = &quot;[DAP] æš‚åœ (F6)&quot; &#125;) -- æ–°å¢ï¼šæš‚åœåŠŸèƒ½    vim.keymap.set(&quot;n&quot;, &quot;&lt;F7&gt;&quot;, dap.step_out, &#123; desc = &quot;[DAP] å•æ­¥è·³å‡º (F7)&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;F8&gt;&quot;, dap.step_over, &#123; desc = &quot;[DAP] å•æ­¥è·³è¿‡ (F8)&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;F9&gt;&quot;, dap.toggle_breakpoint, &#123; desc = &quot;[DAP] åˆ‡æ¢æ–­ç‚¹ (F9)&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;F10&gt;&quot;, dap.step_into, &#123; desc = &quot;[DAP] å•æ­¥è¿›å…¥ (F10)&quot; &#125;)    vim.keymap.set(&quot;n&quot;, &quot;&lt;F12&gt;&quot;, function()      dapui.toggle()    end, &#123; desc = &quot;[DAP] åˆ‡æ¢UI (F11)&quot; &#125;) -- æ–°å¢ï¼šæ–¹ä¾¿åœ°æ˜¾ç¤º/éšè—UI    -- Shift + F* å¿«æ·é”®    vim.keymap.set(&quot;n&quot;, &quot;&lt;S-F5&gt;&quot;, dap.terminate, &#123; desc = &quot;[DAP] ç»ˆæ­¢è°ƒè¯• (Shift+F5)&quot; &#125;) -- å¯¹åº”VSCodeçš„Shift+F5    vim.keymap.set(&quot;n&quot;, &quot;&lt;S-F8&gt;&quot;, function()      dap.run_to_cursor()    end, &#123; desc = &quot;[DAP] è¿è¡Œåˆ°å…‰æ ‡å¤„ (Shift+F8)&quot; &#125;)  end,&#125;\nè°ƒè¯•å°æŠ€å·§æŠ€å·§\nè¿™äº›å¿«æ·é”®ä¸æˆ‘çš„é…ç½®æœ‰å…³ã€‚\n\nä¸ç†Ÿæ‚‰å¿«æ·é”®æ—¶å¯ä»¥pinä¸€ä¸ªå¿«æ·é”®æˆªå›¾ã€‚\nå–„ç”¨&lt;C+æ–¹å‘é”®è°ƒæ•´çª—å£å¤§å°ã€‚\n&lt;leader&gt;dKå¯ä»¥æŸ¥çœ‹å…‰æ ‡ä½ç½®çš„å˜é‡å€¼ã€‚\n&lt;leader&gt;drå¯ä»¥æ‰“å¼€REPLï¼Œèƒ½å¤Ÿè¾“å…¥è¡¨è¾¾å¼å¹¶æŸ¥çœ‹ç»“æœã€‚\n\nCargo\n\ncargoé¡¹ç›®çš„ä¸»ç›®å½•ç»“æ„æ˜¯æœ‰è¦æ±‚çš„\n\nCargo.tomlã€src/åœ¨é¡¹ç›®é¡¶å±‚ã€‚\næºä»£ç å…¨éƒ½åœ¨src/ç›®å½•ä¸‹ã€‚\nä½¿ç”¨cargo new &lt;name&gt;å‘½ä»¤åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼ŒCargoä¼šè‡ªåŠ¨åˆ›å»ºCargo.tomlå’Œsrc/main.rsæ–‡ä»¶ã€‚\nä¹Ÿå¯ä»¥ä½¿ç”¨cargo init &lt;name&gt;å‘½ä»¤åœ¨å½“å‰ç›®å½•åˆå§‹åŒ–Cargoé¡¹ç›®ã€‚\n\n\ncargo buildå‘½ä»¤ä¼šç¼–è¯‘å½“å‰ç›®å½•ä¸‹çš„Cargoé¡¹ç›®ã€‚\n\nç¼–è¯‘ç»“æœä¼šæ”¾åœ¨target/debug/ç›®å½•ä¸‹ã€‚\nåŒæ—¶ä¼šç”Ÿæˆcargo.lockæ–‡ä»¶ï¼Œè®°å½•ä¾èµ–çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚\nå¦‚æœéœ€è¦ç¼–è¯‘æˆå‘å¸ƒç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ä¼šå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œç¼–è¯‘æ—¶é—´æ›´é•¿ï¼Œä½†æ‰§è¡Œæ›´å¿«ï¼Œå¯ä»¥ä½¿ç”¨cargo build --releaseï¼Œç»“æœä¼šæ”¾åœ¨target/release/ç›®å½•ä¸‹ã€‚j\n\n\ncargo runå‘½ä»¤ä¼šç¼–è¯‘å¹¶è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„Cargoé¡¹ç›®ã€‚\n\nä½†æ˜¯å¦‚æœé¡¹ç›®æ²¡æœ‰ä¿®æ”¹ï¼ŒCargoä¼šè·³è¿‡ç¼–è¯‘æ­¥éª¤ï¼Œç›´æ¥è¿è¡Œä¸Šæ¬¡ç¼–è¯‘çš„ç»“æœã€‚\n\n\ncargo checkå¯ä»¥æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰é”™è¯¯ï¼Œä½†ä¸ä¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚\n\nå®ƒæ¯”cargo buildå¿«å¾ˆå¤šï¼Œè¿™å¯¹äºå¿«é€Ÿæ£€æŸ¥ä»£ç å¾ˆæœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ã€‚\n\n\n[dependencies]ï¼Œrand = &quot;0.9.1&quot;ä¸rand = &quot;^0.9.1&quot;ç­‰ä»·ã€‚\n\n^è¡¨ç¤ºå…¼å®¹ç‰ˆæœ¬ï¼Œå…è®¸ä½¿ç”¨0.9.xç‰ˆæœ¬ã€‚\n~è¡¨ç¤ºå…¼å®¹æ¬¡ç‰ˆæœ¬ï¼Œå…¼å®¹èŒƒå›´å¯èƒ½ä¸^ä¸€è‡´æˆ–å°ä¸€ç‚¹ã€‚\n=è¡¨ç¤ºç²¾ç¡®ç‰ˆæœ¬ï¼Œå¿…é¡»ä½¿ç”¨0.9.1ã€‚\n\n\ncargo updateå‘½ä»¤ä¼šæ›´æ–°ä¾èµ–åˆ°æœ€æ–°çš„å…¼å®¹ç‰ˆæœ¬ã€‚\n\nå®ƒä¼šä¿®æ”¹Cargo.lockæ–‡ä»¶ï¼Œä½†ä¸ä¼šä¿®æ”¹Cargo.tomlæ–‡ä»¶ã€‚\n\n\n\nå‘å±•\næ•°æ®\nå˜é‡ä¸å¸¸é‡\nå˜é‡åˆ†æˆå¯å˜å˜é‡å’Œä¸å¯å˜å˜é‡ï¼Œéƒ½éœ€è¦ä½¿ç”¨letå£°æ˜ã€‚\n\nå¯å˜å˜é‡éœ€è¦é¢å¤–åŠ ä¸Šmutã€‚\n\nå¸¸é‡ä½¿ç”¨constå£°æ˜ï¼Œå¿…é¡»æŒ‡å®šç±»å‹ã€‚\nä¸å¯å˜å˜é‡ä¸å¸¸é‡çš„åŒºåˆ«\n\n\nä¸å¯å˜å˜é‡å¯ä»¥åœ¨è¿è¡Œæ—¶è®¡ç®—å€¼ï¼Œå¸¸é‡å¿…é¡»åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚\nä¸å¯å˜å˜é‡çš„ç‰¹æ€§ï¼šé®è”½ï¼Œé‡æ–°å£°æ˜ä»¥è¦†ç›–ã€‚\n\nlet x = 5; // ä¸å¯å˜å˜é‡let x = 6; // é®è”½ï¼Œé‡æ–°å£°æ˜xä¸º6\n\nå¸¸é‡çš„ç‰¹æ€§ï¼šå…¨ä½œç”¨åŸŸå¯è§ï¼š\n\nå¸¸é‡ä¸ç®¡åœ¨ä½•å¤„å£°æ˜éƒ½ä¼šä½œç”¨åŸŸæ•´ä¸ªä½œç”¨åŸŸï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå°†å¸¸é‡åæ›¿æ¢æˆå€¼ã€‚\nåŒä¸€ä¸ªä½œç”¨åŸŸå†…ä¸èƒ½æœ‰åŒåçš„å¸¸é‡ï¼ŒåŸå› å¦‚ä¸Šï¼Œä¼šå†²çªã€‚\nå†…å±‚ä½œç”¨åŸŸå¯ä»¥é®è”½å¤–å±‚ä½œç”¨åŸŸçš„å¸¸é‡ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå…ˆåœ¨å½“å‰ä½œç”¨åŸŸåŒ¹é…ï¼Œæ‰¾ä¸åˆ°æ‰ä¼šå»å¤–å±‚ä½œç”¨åŸŸæ‰¾ã€‚\n\nconst VALUE: u32 = 100_000;fn main() &#123;    println!(&quot;The value is: &#123;&#125;&quot;, VALUE);    const VALUE: u32 = 200_000;    &#123;        const VALUE: u32 = 300_000;        println!(&quot;The value is: &#123;&#125;&quot;, VALUE);    &#125;    println!(&quot;The value is: &#123;&#125;&quot;, VALUE);&#125;\n\n\n","categories":["ç¬”è®°","Rust"],"tags":["ç¬”è®°","ç¼–ç¨‹è¯­è¨€","Rust","ç¼–ç¨‹"]},{"title":"chart","url":"/2025/07/23/chart/","content":"QACache ä¸‰å±‚æ¶æ„æµç¨‹å›¾\n1. ç³»ç»Ÿæ•´ä½“æ¶æ„å›¾\ngraph TB    subgraph &quot;ç”¨æˆ·å±‚ (Client Layer)&quot;        U1[ç”¨æˆ·1]        U2[ç”¨æˆ·2]        U3[ç”¨æˆ·N]    end        subgraph &quot;å®¢æˆ·ç«¯ç¼“å­˜å±‚ (Client-Side Cache)&quot;        C1[&quot;å®¢æˆ·ç«¯ç¼“å­˜1&lt;br/&gt;SQLite + Faiss&lt;br/&gt;BGE-small-zh-v1.5&quot;]        C2[&quot;å®¢æˆ·ç«¯ç¼“å­˜2&lt;br/&gt;SQLite + Faiss&lt;br/&gt;BGE-small-zh-v1.5&quot;]        C3[&quot;å®¢æˆ·ç«¯ç¼“å­˜N&lt;br/&gt;SQLite + Faiss&lt;br/&gt;BGE-small-zh-v1.5&quot;]                subgraph &quot;å®¢æˆ·ç«¯ç»„ä»¶&quot;            MC[å†…å­˜ç¼“å­˜]            VDB[å‘é‡æ•°æ®åº“]            LDB[æœ¬åœ°SQLite]            API[FastAPIæ¥å£]        end    end        subgraph &quot;CDN/ç½‘å…³å±‚ (CDN Gateway Layer)&quot;        subgraph &quot;è´Ÿè½½å‡è¡¡å™¨&quot;            LB[è´Ÿè½½å‡è¡¡å™¨]        end                subgraph &quot;CDNèŠ‚ç‚¹&quot;            CDN1[&quot;CDNèŠ‚ç‚¹1&lt;br/&gt;ååŒ—&quot;]            CDN2[&quot;CDNèŠ‚ç‚¹2&lt;br/&gt;åä¸œ&quot;]            CDN3[&quot;CDNèŠ‚ç‚¹3&lt;br/&gt;åå—&quot;]        end                subgraph &quot;æ™ºèƒ½åˆ†æ&quot;            UA[ç”¨æˆ·è¡Œä¸ºåˆ†æ]            PQ[çƒ­é—¨æŸ¥è¯¢ç»Ÿè®¡]            PR[é¢„æµ‹æ¨è]        end    end        subgraph &quot;æœåŠ¡å™¨ç¼“å­˜å±‚ (Server-Side Cache)&quot;        subgraph &quot;Elasticsearché›†ç¾¤&quot;            ES1[&quot;ESèŠ‚ç‚¹1&lt;br/&gt;ä¸»åˆ†ç‰‡&quot;]            ES2[&quot;ESèŠ‚ç‚¹2&lt;br/&gt;å‰¯æœ¬åˆ†ç‰‡&quot;]            ES3[&quot;ESèŠ‚ç‚¹3&lt;br/&gt;å‰¯æœ¬åˆ†ç‰‡&quot;]        end                subgraph &quot;ç¼“å­˜ç®¡ç†&quot;            PM[&quot;ç²¾å‡†åŒ¹é…å¼•æ“&lt;br/&gt;BGE-base-zh-v1.5&quot;]            QE[è´¨é‡è¯„ä¼°ç³»ç»Ÿ]            SM[åŒæ­¥ç®¡ç†å™¨]        end    end        subgraph &quot;å¤§æ¨¡å‹æœåŠ¡å±‚ (LLM Services)&quot;        LLM1[GPT-4]        LLM2[Claude]        LLM3[æ–‡å¿ƒä¸€è¨€]        LLM4[é€šä¹‰åƒé—®]    end        subgraph &quot;ç›‘æ§ç³»ç»Ÿ (Monitoring)&quot;        MON[æ€§èƒ½ç›‘æ§]        ALERT[å‘Šè­¦ç³»ç»Ÿ]        METRICS[æŒ‡æ ‡æ”¶é›†]    end        %% è¿æ¥å…³ç³»    U1 --&gt; C1    U2 --&gt; C2    U3 --&gt; C3        C1 --&gt; LB    C2 --&gt; LB    C3 --&gt; LB        LB --&gt; CDN1    LB --&gt; CDN2    LB --&gt; CDN3        CDN1 --&gt; ES1    CDN2 --&gt; ES2    CDN3 --&gt; ES3        ES1 --&gt; LLM1    ES2 --&gt; LLM2    ES3 --&gt; LLM3    ES1 --&gt; LLM4        %% ç›‘æ§è¿æ¥    C1 -.-&gt; MON    CDN1 -.-&gt; MON    ES1 -.-&gt; MON    MON --&gt; ALERT    MON --&gt; METRICS        %% æ•°æ®åŒæ­¥    C1 -.-&gt; CDN1    CDN1 -.-&gt; ES1    ES1 -.-&gt; CDN1        %% åˆ†æåé¦ˆ    CDN1 --&gt; UA    CDN2 --&gt; PQ    CDN3 --&gt; PR\n2. æ•°æ®æµç¨‹å›¾\nflowchart TD    START([ç”¨æˆ·æŸ¥è¯¢]) --&gt; CLIENT_CHECK&#123;å®¢æˆ·ç«¯ç¼“å­˜æ£€æŸ¥&#125;        CLIENT_CHECK --&gt;|å‘½ä¸­| CLIENT_RETURN[è¿”å›ç¼“å­˜ç»“æœ]    CLIENT_CHECK --&gt;|æœªå‘½ä¸­| CDN_CHECK&#123;CDNç¼“å­˜æ£€æŸ¥&#125;        CDN_CHECK --&gt;|å‘½ä¸­| CDN_RETURN[è¿”å›CDNç»“æœ]    CDN_CHECK --&gt;|æœªå‘½ä¸­| SERVER_CHECK&#123;æœåŠ¡å™¨ç¼“å­˜æ£€æŸ¥&#125;        SERVER_CHECK --&gt;|å‘½ä¸­| SERVER_RETURN[è¿”å›æœåŠ¡å™¨ç»“æœ]    SERVER_CHECK --&gt;|æœªå‘½ä¸­| LLM_CALL[è°ƒç”¨å¤§æ¨¡å‹]        LLM_CALL --&gt; LLM_RESPONSE[å¤§æ¨¡å‹å“åº”]        %% ç¼“å­˜æ›´æ–°æµç¨‹    LLM_RESPONSE --&gt; QUALITY_CHECK&#123;è´¨é‡è¯„ä¼°&#125;    QUALITY_CHECK --&gt;|é«˜è´¨é‡| CACHE_UPDATE[æ›´æ–°å„å±‚ç¼“å­˜]    QUALITY_CHECK --&gt;|ä½è´¨é‡| DIRECT_RETURN[ç›´æ¥è¿”å›]        CACHE_UPDATE --&gt; SERVER_CACHE[æ›´æ–°æœåŠ¡å™¨ç¼“å­˜]    SERVER_CACHE --&gt; CDN_SYNC[åŒæ­¥åˆ°CDN]    CDN_SYNC --&gt; CLIENT_SYNC[åŒæ­¥åˆ°å®¢æˆ·ç«¯]        %% è¿”å›è·¯å¾„    CLIENT_RETURN --&gt; END([è¿”å›ç”¨æˆ·])    CDN_RETURN --&gt; CLIENT_CACHE_UPDATE[æ›´æ–°å®¢æˆ·ç«¯ç¼“å­˜]    CLIENT_CACHE_UPDATE --&gt; END        SERVER_RETURN --&gt; CDN_CACHE_UPDATE[æ›´æ–°CDNç¼“å­˜]    CDN_CACHE_UPDATE --&gt; CLIENT_CACHE_UPDATE        CLIENT_SYNC --&gt; END    DIRECT_RETURN --&gt; END        %% æ ·å¼    classDef cacheHit fill:#90EE90    classDef cacheMiss fill:#FFB6C1    classDef llmCall fill:#FFD700    classDef update fill:#87CEEB        class CLIENT_RETURN,CDN_RETURN,SERVER_RETURN cacheHit    class CLIENT_CHECK,CDN_CHECK,SERVER_CHECK cacheMiss    class LLM_CALL,LLM_RESPONSE llmCall    class CACHE_UPDATE,SERVER_CACHE,CDN_SYNC,CLIENT_SYNC update\n3. ç½‘ç»œè¿æ¥æ‹“æ‰‘å›¾\ngraph LR    subgraph &quot;Internet&quot;        INET[äº’è”ç½‘]    end        subgraph &quot;ç”¨æˆ·ç½‘ç»œç¯å¢ƒ&quot;        subgraph &quot;ç”¨æˆ·è®¾å¤‡1&quot;            U1_APP[åº”ç”¨ç¨‹åº]            U1_CACHE[&quot;æœ¬åœ°ç¼“å­˜&lt;br/&gt;ç«¯å£:8080&quot;]        end                subgraph &quot;ç”¨æˆ·è®¾å¤‡2&quot;            U2_APP[åº”ç”¨ç¨‹åº]            U2_CACHE[&quot;æœ¬åœ°ç¼“å­˜&lt;br/&gt;ç«¯å£:8080&quot;]        end                subgraph &quot;ä¼ä¸šå†…ç½‘&quot;            CORP_GW[ä¼ä¸šç½‘å…³]            CORP_CACHE[&quot;ä¼ä¸šç¼“å­˜&lt;br/&gt;ç«¯å£:8081&quot;]        end    end        subgraph &quot;CDNç½‘ç»œ&quot;        subgraph &quot;ååŒ—èŠ‚ç‚¹&quot;            CDN_BJ[&quot;åŒ—äº¬CDN&lt;br/&gt;IP: 1.1.1.1&lt;br/&gt;ç«¯å£: 443&quot;]        end                subgraph &quot;åä¸œèŠ‚ç‚¹&quot;            CDN_SH[&quot;ä¸Šæµ·CDN&lt;br/&gt;IP: 2.2.2.2&lt;br/&gt;ç«¯å£: 443&quot;]        end                subgraph &quot;åå—èŠ‚ç‚¹&quot;            CDN_GZ[&quot;å¹¿å·CDN&lt;br/&gt;IP: 3.3.3.3&lt;br/&gt;ç«¯å£: 443&quot;]        end                subgraph &quot;CDNç®¡ç†&quot;            CDN_LB[&quot;è´Ÿè½½å‡è¡¡å™¨&lt;br/&gt;ç«¯å£: 80/443&quot;]            CDN_SYNC[&quot;åŒæ­¥æœåŠ¡&lt;br/&gt;ç«¯å£: 9200&quot;]        end    end        subgraph &quot;æœåŠ¡å™¨é›†ç¾¤&quot;        subgraph &quot;Elasticsearché›†ç¾¤&quot;            ES_M[&quot;ESä¸»èŠ‚ç‚¹&lt;br/&gt;IP: 10.0.1.10&lt;br/&gt;ç«¯å£: 9200&quot;]            ES_D1[&quot;ESæ•°æ®èŠ‚ç‚¹1&lt;br/&gt;IP: 10.0.1.11&lt;br/&gt;ç«¯å£: 9200&quot;]            ES_D2[&quot;ESæ•°æ®èŠ‚ç‚¹2&lt;br/&gt;IP: 10.0.1.12&lt;br/&gt;ç«¯å£: 9200&quot;]        end                subgraph &quot;åº”ç”¨æœåŠ¡å™¨&quot;            APP_SRV[&quot;ç¼“å­˜æœåŠ¡&lt;br/&gt;IP: 10.0.2.10&lt;br/&gt;ç«¯å£: 8000&quot;]            SYNC_SRV[&quot;åŒæ­¥æœåŠ¡&lt;br/&gt;IP: 10.0.2.11&lt;br/&gt;ç«¯å£: 8001&quot;]        end                subgraph &quot;ç›‘æ§ç³»ç»Ÿ&quot;            MONITOR[&quot;ç›‘æ§æœåŠ¡&lt;br/&gt;IP: 10.0.3.10&lt;br/&gt;ç«¯å£: 3000&quot;]            ALERT[&quot;å‘Šè­¦æœåŠ¡&lt;br/&gt;IP: 10.0.3.11&lt;br/&gt;ç«¯å£: 9093&quot;]        end    end        subgraph &quot;å¤§æ¨¡å‹æœåŠ¡&quot;        LLM_API[&quot;LLM APIç½‘å…³&lt;br/&gt;HTTPS: 443&quot;]                subgraph &quot;æ¨¡å‹æœåŠ¡&quot;            GPT[&quot;OpenAI GPT&lt;br/&gt;api.openai.com&quot;]            CLAUDE[&quot;Anthropic Claude&lt;br/&gt;api.anthropic.com&quot;]            QWEN[&quot;é˜¿é‡Œé€šä¹‰åƒé—®&lt;br/&gt;dashscope.aliyuncs.com&quot;]        end    end        %% ç½‘ç»œè¿æ¥    U1_APP -.-&gt;|HTTP/8080| U1_CACHE    U2_APP -.-&gt;|HTTP/8080| U2_CACHE        U1_CACHE --&gt;|HTTPS/443| INET    U2_CACHE --&gt;|HTTPS/443| INET    CORP_CACHE --&gt;|HTTPS/443| INET        INET --&gt; CDN_LB    CDN_LB --&gt; CDN_BJ    CDN_LB --&gt; CDN_SH    CDN_LB --&gt; CDN_GZ        CDN_BJ --&gt;|TCP/9200| ES_M    CDN_SH --&gt;|TCP/9200| ES_D1    CDN_GZ --&gt;|TCP/9200| ES_D2        ES_M -.-&gt;|é›†ç¾¤é€šä¿¡/9300| ES_D1    ES_M -.-&gt;|é›†ç¾¤é€šä¿¡/9300| ES_D2    ES_D1 -.-&gt;|é›†ç¾¤é€šä¿¡/9300| ES_D2        APP_SRV --&gt;|HTTP/9200| ES_M    SYNC_SRV --&gt;|HTTP/9200| ES_M        APP_SRV --&gt;|HTTPS/443| LLM_API    LLM_API --&gt; GPT    LLM_API --&gt; CLAUDE    LLM_API --&gt; QWEN        %% ç›‘æ§è¿æ¥    U1_CACHE -.-&gt;|Metrics| MONITOR    CDN_BJ -.-&gt;|Metrics| MONITOR    ES_M -.-&gt;|Metrics| MONITOR    APP_SRV -.-&gt;|Metrics| MONITOR        MONITOR --&gt; ALERT        %% åŒæ­¥è¿æ¥    CDN_SYNC -.-&gt;|åŒæ­¥| CDN_BJ    CDN_SYNC -.-&gt;|åŒæ­¥| CDN_SH    CDN_SYNC -.-&gt;|åŒæ­¥| CDN_GZ        SYNC_SRV -.-&gt;|åŒæ­¥| CDN_SYNC\n4. éƒ¨ç½²æ¶æ„å›¾\ngraph TB    subgraph &quot;éƒ¨ç½²ç¯å¢ƒ&quot;        subgraph &quot;å¼€å‘ç¯å¢ƒ&quot;            DEV_CLIENT[&quot;å®¢æˆ·ç«¯å¼€å‘&lt;br/&gt;Docker Compose&quot;]            DEV_SERVER[&quot;æœåŠ¡ç«¯å¼€å‘&lt;br/&gt;æœ¬åœ°ES + FastAPI&quot;]        end                subgraph &quot;æµ‹è¯•ç¯å¢ƒ&quot;            TEST_K8S[&quot;Kubernetesé›†ç¾¤&lt;br/&gt;æµ‹è¯•å‘½åç©ºé—´&quot;]            TEST_ES[&quot;ESæµ‹è¯•é›†ç¾¤&lt;br/&gt;å•èŠ‚ç‚¹&quot;]            TEST_CDN[&quot;CDNæµ‹è¯•èŠ‚ç‚¹&lt;br/&gt;å•åŒºåŸŸ&quot;]        end                subgraph &quot;ç”Ÿäº§ç¯å¢ƒ&quot;            subgraph &quot;å®¢æˆ·ç«¯éƒ¨ç½²&quot;                PROD_CLIENT_WIN[&quot;Windowså®¢æˆ·ç«¯&lt;br/&gt;MSIå®‰è£…åŒ…&quot;]                PROD_CLIENT_MAC[&quot;macOSå®¢æˆ·ç«¯&lt;br/&gt;DMGå®‰è£…åŒ…&quot;]                PROD_CLIENT_LINUX[&quot;Linuxå®¢æˆ·ç«¯&lt;br/&gt;AppImage&quot;]                PROD_CLIENT_WEB[&quot;Webå®¢æˆ·ç«¯&lt;br/&gt;æµè§ˆå™¨æ’ä»¶&quot;]            end                        subgraph &quot;CDNéƒ¨ç½²&quot;                PROD_CDN_MULTI[&quot;å¤šåŒºåŸŸCDN&lt;br/&gt;é˜¿é‡Œäº‘/è…¾è®¯äº‘&quot;]                PROD_LB[&quot;è´Ÿè½½å‡è¡¡&lt;br/&gt;Nginx/HAProxy&quot;]            end                        subgraph &quot;æœåŠ¡å™¨éƒ¨ç½²&quot;                PROD_K8S[&quot;Kubernetesç”Ÿäº§é›†ç¾¤&quot;]                PROD_ES[&quot;ESç”Ÿäº§é›†ç¾¤&lt;br/&gt;3ä¸»+6æ•°æ®èŠ‚ç‚¹&quot;]                PROD_REDIS[&quot;Redisé›†ç¾¤&lt;br/&gt;é«˜å¯ç”¨&quot;]            end        end    end        subgraph &quot;CI/CDæµæ°´çº¿&quot;        GIT[Gitä»“åº“]        BUILD[æ„å»ºæœåŠ¡]        TEST[è‡ªåŠ¨åŒ–æµ‹è¯•]        DEPLOY[éƒ¨ç½²æœåŠ¡]    end        %% éƒ¨ç½²æµç¨‹    GIT --&gt; BUILD    BUILD --&gt; TEST    TEST --&gt; DEV_CLIENT    TEST --&gt; DEV_SERVER        DEV_CLIENT --&gt; TEST_K8S    DEV_SERVER --&gt; TEST_ES        TEST_K8S --&gt; DEPLOY    DEPLOY --&gt; PROD_K8S    DEPLOY --&gt; PROD_CDN_MULTI    DEPLOY --&gt; PROD_CLIENT_WIN    DEPLOY --&gt; PROD_CLIENT_MAC    DEPLOY --&gt; PROD_CLIENT_LINUX    DEPLOY --&gt; PROD_CLIENT_WEB\n5. æ•°æ®åŒæ­¥æ—¶åºå›¾\nsequenceDiagram    participant U as ç”¨æˆ·    participant C as å®¢æˆ·ç«¯ç¼“å­˜    participant CDN as CDNç½‘å…³    participant S as æœåŠ¡å™¨ç¼“å­˜    participant LLM as å¤§æ¨¡å‹        Note over U,LLM: æŸ¥è¯¢æµç¨‹    U-&gt;&gt;C: å‘é€æŸ¥è¯¢    C-&gt;&gt;C: æ£€æŸ¥æœ¬åœ°ç¼“å­˜        alt æœ¬åœ°ç¼“å­˜å‘½ä¸­        C-&gt;&gt;U: è¿”å›ç¼“å­˜ç»“æœ    else æœ¬åœ°ç¼“å­˜æœªå‘½ä¸­        C-&gt;&gt;CDN: è¯·æ±‚CDNç¼“å­˜        CDN-&gt;&gt;CDN: æ£€æŸ¥CDNç¼“å­˜                alt CDNç¼“å­˜å‘½ä¸­            CDN-&gt;&gt;C: è¿”å›CDNç»“æœ            C-&gt;&gt;C: æ›´æ–°æœ¬åœ°ç¼“å­˜            C-&gt;&gt;U: è¿”å›ç»“æœ        else CDNç¼“å­˜æœªå‘½ä¸­            CDN-&gt;&gt;S: è¯·æ±‚æœåŠ¡å™¨ç¼“å­˜            S-&gt;&gt;S: æ£€æŸ¥æœåŠ¡å™¨ç¼“å­˜                        alt æœåŠ¡å™¨ç¼“å­˜å‘½ä¸­                S-&gt;&gt;CDN: è¿”å›æœåŠ¡å™¨ç»“æœ                CDN-&gt;&gt;CDN: æ›´æ–°CDNç¼“å­˜                CDN-&gt;&gt;C: è¿”å›ç»“æœ                C-&gt;&gt;C: æ›´æ–°æœ¬åœ°ç¼“å­˜                C-&gt;&gt;U: è¿”å›ç»“æœ            else æœåŠ¡å™¨ç¼“å­˜æœªå‘½ä¸­                S-&gt;&gt;LLM: è°ƒç”¨å¤§æ¨¡å‹                LLM-&gt;&gt;S: è¿”å›æ¨¡å‹å“åº”                S-&gt;&gt;S: è´¨é‡è¯„ä¼°                                alt é«˜è´¨é‡å“åº”                    S-&gt;&gt;S: æ›´æ–°æœåŠ¡å™¨ç¼“å­˜                    S-&gt;&gt;CDN: åŒæ­¥åˆ°CDN                    CDN-&gt;&gt;CDN: æ›´æ–°CDNç¼“å­˜                    CDN-&gt;&gt;C: åŒæ­¥åˆ°å®¢æˆ·ç«¯                    C-&gt;&gt;C: æ›´æ–°æœ¬åœ°ç¼“å­˜                end                                S-&gt;&gt;CDN: è¿”å›ç»“æœ                CDN-&gt;&gt;C: è¿”å›ç»“æœ                C-&gt;&gt;U: è¿”å›ç»“æœ            end        end    end        Note over U,LLM: åå°åŒæ­¥æµç¨‹    loop å®šæœŸåŒæ­¥        C-&gt;&gt;CDN: ä¸Šä¼ é«˜è´¨é‡ç¼“å­˜        CDN-&gt;&gt;S: æ‰¹é‡åŒæ­¥åˆ°æœåŠ¡å™¨        S-&gt;&gt;CDN: æ¨é€çƒ­é—¨ç¼“å­˜        CDN-&gt;&gt;C: é¢„å–æ¨èç¼“å­˜    end\n6. æŠ€æœ¯æ ˆç»„ä»¶å›¾\ngraph LR    subgraph &quot;å‰ç«¯æŠ€æœ¯æ ˆ&quot;        subgraph &quot;å®¢æˆ·ç«¯åº”ç”¨&quot;            ELECTRON[Electron]            REACT[React]            TAURI[Tauri]        end                subgraph &quot;Webæ‰©å±•&quot;            CHROME[Chrome Extension]            FIREFOX[Firefox Addon]        end    end        subgraph &quot;åç«¯æŠ€æœ¯æ ˆ&quot;        subgraph &quot;APIå±‚&quot;            FASTAPI[FastAPI]            UVICORN[Uvicorn]            PYDANTIC[Pydantic]        end                subgraph &quot;ç¼“å­˜å±‚&quot;            SQLITE[SQLite]            FAISS[Faiss]            REDIS[Redis]            ES[Elasticsearch]        end                subgraph &quot;AI/ML&quot;            BGE_SMALL[BGE-small-zh-v1.5]            BGE_BASE[BGE-base-zh-v1.5]            SENTENCE_T[SentenceTransformers]        end    end        subgraph &quot;åŸºç¡€è®¾æ–½&quot;        subgraph &quot;å®¹å™¨åŒ–&quot;            DOCKER[Docker]            K8S[Kubernetes]            HELM[Helm]        end                subgraph &quot;ç›‘æ§&quot;            PROMETHEUS[Prometheus]            GRAFANA[Grafana]            JAEGER[Jaeger]        end                subgraph &quot;ç½‘ç»œ&quot;            NGINX[Nginx]            CLOUDFLARE[Cloudflare]            CONSUL[Consul]        end    end        %% æŠ€æœ¯ä¾èµ–å…³ç³»    REACT --&gt; ELECTRON    FASTAPI --&gt; UVICORN    FASTAPI --&gt; PYDANTIC        SQLITE --&gt; FAISS    REDIS --&gt; ES        BGE_SMALL --&gt; SENTENCE_T    BGE_BASE --&gt; SENTENCE_T        DOCKER --&gt; K8S    K8S --&gt; HELM        PROMETHEUS --&gt; GRAFANA    NGINX --&gt; CLOUDFLARE\nè¯´æ˜\næ¶æ„ç‰¹ç‚¹\n\nä¸‰å±‚ç¼“å­˜è®¾è®¡ï¼šå®¢æˆ·ç«¯è½»é‡ç¼“å­˜ â†’ CDNæ™ºèƒ½åˆ†å‘ â†’ æœåŠ¡å™¨ç²¾å‡†ç¼“å­˜\næ™ºèƒ½æ•°æ®æµï¼šåŸºäºè´¨é‡è¯„ä¼°çš„ç¼“å­˜åŒæ­¥æœºåˆ¶\né«˜å¯ç”¨éƒ¨ç½²ï¼šæ”¯æŒå¤šåŒºåŸŸã€å¤šèŠ‚ç‚¹çš„åˆ†å¸ƒå¼éƒ¨ç½²\nç›‘æ§å®Œå–„ï¼šå…¨é“¾è·¯æ€§èƒ½ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ\n\nç½‘ç»œè¿æ¥è¯´æ˜\n\nå®¢æˆ·ç«¯ï¼šé€šè¿‡HTTPSè¿æ¥CDNï¼Œæœ¬åœ°ä½¿ç”¨HTTP/8080ç«¯å£\nCDNå±‚ï¼šè´Ÿè½½å‡è¡¡å™¨åˆ†å‘è¯·æ±‚åˆ°å„åŒºåŸŸèŠ‚ç‚¹\næœåŠ¡å™¨å±‚ï¼šElasticsearché›†ç¾¤å†…éƒ¨é€šä¿¡ä½¿ç”¨9300ç«¯å£\nç›‘æ§ï¼šå„ç»„ä»¶é€šè¿‡Metricsæ¥å£ä¸ŠæŠ¥ç›‘æ§æ•°æ®\n\néƒ¨ç½²æ¨¡å¼\n\nå¼€å‘ç¯å¢ƒï¼šDocker Composeæœ¬åœ°éƒ¨ç½²\næµ‹è¯•ç¯å¢ƒï¼šKuberneteså•é›†ç¾¤éƒ¨ç½²\nç”Ÿäº§ç¯å¢ƒï¼šå¤šåŒºåŸŸã€é«˜å¯ç”¨é›†ç¾¤éƒ¨ç½²\n\n"},{"title":"ğŸ³dockerä½¿ç”¨ç¬”è®°","url":"/2025/06/17/docker%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/","content":"ğŸ³dockerä½¿ç”¨ç¬”è®°\nlinux\nè¿è¡ŒDockerfileæ—¶â€œpermission deniedâ€\néƒ¨åˆ†æŠ¥é”™ï¼šERROR: permission denied while trying to connect to the Docker daemon socket\nè§£å†³æ–¹æ³•ï¼š\n\nsudo usermod -aG docker $USER\néœ€æ³¨é”€æˆ–é‡å¯æ‰èƒ½ç”Ÿæ•ˆï¼Œä¸ºçš„æ˜¯è®©shellä½¿ç”¨dockerç»„çš„æƒé™\næˆ–ä¸ºå½“å‰ç»ˆç«¯ä¸´æ—¶æ·»åŠ æƒé™ï¼Œnewgrp docker\nå¯ä»¥ç”¨groupsæŒ‡ä»¤çœ‹å½“å‰shellæ˜¯å¦æ‹¥æœ‰dockeræƒé™\n\n","categories":["ç¬”è®°","docker"],"tags":["docker"]},{"title":"ğŸ•·ï¸markdownè¯­æ³•ç¬”è®°","url":"/2025/06/16/markdown%E8%AF%AD%E6%B3%95%E7%AC%94%E8%AE%B0/","content":"ğŸ•·ï¸markdownè¯­æ³•ç¬”è®°\næ’å…¥\né“¾æ¥\n\n\nè¡Œå†…é“¾æ¥ï¼š[æ˜¾ç¤ºæ–‡æœ¬](é“¾æ¥åœ°å€ &quot;å¯é€‰æ ‡é¢˜&quot;)\n\n\nå¼•ç”¨å¼é“¾æ¥ï¼š\n[æ˜¾ç¤ºæ–‡æœ¬][é“¾æ¥æ ‡è¯†][é“¾æ¥æ ‡è¯†]: é“¾æ¥åœ°å€ &quot;å¯é€‰æ ‡é¢˜&quot;\n\n\nç›´æ¥æ˜¾ç¤ºURLï¼š&lt;https://markdown.org&gt;\n\n\nå›¾ç‰‡é“¾æ¥ï¼š[![å›¾ç‰‡æ›¿ä»£æ–‡æœ¬](å›¾ç‰‡URL)](é“¾æ¥åœ°å€)\n\n\nemoji\n\n\nwin + .æ‰“å¼€ç³»ç»Ÿè‡ªå¸¦çš„emojiæœç´¢\n\n\nemojiä¸­æ–‡ç½‘ç­‰å¤åˆ¶ç²˜è´´\n\n\nä½¿ç”¨æ ‡ç­¾ç¬¦å·ç®€ç ï¼Œéœ€è¦å®‰è£…Markdown Emojiæ’ä»¶ï¼Œè¯­æ³•:joy:ï¼Œæ•ˆæœ:joy:ã€‚ï¼ˆæ­¤æ–¹æ³•hexoä¸æ”¯æŒï¼‰\n\n\nfluidä¸»é¢˜å†…ç½®äº†ä¸€äº›å›¾æ ‡ï¼Œåœ¨é…ç½®abouté¡µçš„æ—¶å€™ç”¨åˆ°äº†ï¼Œåœ¨æ–‡æ¡£é‡Œä¹Ÿå¯ä»¥å¦‚&lt;i class=&quot;iconfont icon-github-fill&quot;&gt;&lt;/i&gt;çš„æ–¹å¼ä½¿ç”¨ï¼Œå¸¦é“¾æ¥çš„æ–¹å¼ï¼š\n\n[&lt;i class=&quot;iconfont icon-github-fill&quot;&gt;&lt;/i&gt;](https://github.com/weimoyo/weimoyo.github.io/tree/gh-source/source/snake)\n&lt;a href=&quot;https://github.com/weimoyo/weimoyo.github.io/tree/gh-source/source/snake)&quot; title=&quot;GitHub&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;&lt;i class=&quot;iconfont icon-github-fill&quot;&gt;&lt;/i&gt;&lt;/a&gt;\n\n\n\nfluidå†…ç½®çš„å›¾æ ‡çš„ä¾¿æ·ä½¿ç”¨æ–¹å¼ï¼Œæ·»åŠ ä¸€ä¸ªå›¾æ ‡æ’ä»¶ï¼š\n\n\nåœ¨ä¸»é¢˜ç›®å½•çš„scriptsç›®å½•é‡Œåˆ›å»ºä¸€ä¸ªicon.jsï¼Œå†…å®¹å¦‚ä¸‹\n hexo.extend.tag.register(&#x27;icon&#x27;, function(args) &#123;const iconClass = args[0];const link = args[1];const tip = args[2];if (!iconClass) &#123;   return &#x27;&#x27;;&#125;// æ™ºèƒ½åˆ¤æ–­åŸºç¡€ç±»let baseClass = &#x27;iconfont&#x27;; // é»˜è®¤æ˜¯ iconfontif (iconClass.startsWith(&#x27;fa-&#x27;)) &#123;   baseClass = &#x27;fa&#x27;; // å¦‚æœä»¥ fa- å¼€å¤´ï¼Œåˆ™æ˜¯ Font Awesome&#125;let iconHtml = `&lt;i class=&quot;$&#123;baseClass&#125; $&#123;iconClass&#125;&quot;&gt;&lt;/i&gt;`;if (link) &#123;   const titleAttr = tip ? `title=&quot;$&#123;tip&#125;&quot;` : &#x27;&#x27;;   iconHtml = `&lt;a href=&quot;$&#123;link&#125;&quot; $&#123;titleAttr&#125; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;$&#123;iconHtml&#125;&lt;/a&gt;`;&#125;return iconHtml;&#125;);\n\n\nä¸‰ç§ä½¿ç”¨æ–¹å¼\n\n\n\nåªæ˜¾ç¤ºå›¾æ ‡&lt;i class=&quot;fa-brands fa-github&quot;&gt;&lt;/i&gt;:\nå¸¦é“¾æ¥çš„å›¾æ ‡&lt;a href=&quot;https://github.com&quot;&gt;&lt;i class=&quot;fab fa-github&quot;&gt;&lt;/i&gt;&lt;/a&gt;:\nå¸¦é“¾æ¥å’Œæç¤ºçš„å›¾æ ‡&lt;a href=&quot;https://github.com/weimoyo&quot; title=&quot;https://github.com/weimoyo&quot;&gt;&lt;i class=&quot;fab fa-github&quot;&gt;&lt;/i&gt;&lt;/a&gt;:\n\n\n\næ‹¼éŸ³\nç¼–è¾‘å™¨ï¼š VSCode\næ­¥éª¤ï¼š\n\n\nå‘½ä»¤é¢æ¿=&gt;Snippets: Configure Snippets=&gt;markdown\n\n\nä½¿ç”¨é¢„å…ˆå‡†å¤‡çš„markdown.json\n\n\nåœ¨setting.jsoné‡Œé…ç½®ï¼Œå¿…é¡»ä¸“é—¨é…ç½®markdownæ ¼å¼ã€‚\n&quot;[markdown]&quot;: &#123;     &quot;editor.quickSuggestions&quot;: &#123;         &quot;other&quot;: &quot;on&quot;     &#125; &#125;\n\n\nMarkdown All in Oneç­‰æ’ä»¶çš„è®¾ç½®å¯¹æ­¤æ²¡æœ‰å½±å“ã€‚\n\n\n","categories":["ç¬”è®°","markdown"],"tags":["markdown"]},{"title":"neovimæ’ä»¶è®°å½•ã€ç”¨æ³•","url":"/2025/07/07/neovim%E6%8F%92%E4%BB%B6%E8%AE%B0%E5%BD%95%E3%80%81%E7%94%A8%E6%B3%95/","content":"bullets-vim\nåŠŸèƒ½ï¼šè‡ªåŠ¨å¤„ç†markdownä¸­çš„åˆ—è¡¨åºå·ã€‚\nå¿«æ·é”®ï¼š\n\n\n\næŒ‰é”®\næ¨¡å¼\nåŠŸèƒ½\n\n\n\n\n&lt;cr&gt;\nINSERT\næ¢è¡Œå¹¶æ’å…¥æ–°çš„bullet\n\n\no\nNORMAL\næ•ˆæœåŒä¸Šã€‚\n\n\n&lt;C-cr&gt;\nINSERT\nä»…æ¢è¡Œ\n\n\ngN\nNORMAL/VISUAL\nå¯¹å…‰æ ‡æ‰€åœ¨åˆ—è¡¨(æˆ–è€…æ‰€é€‰ä¸­çš„éƒ¨åˆ†)é‡æ’åº\n\n\n&gt;&gt;\nNORMAL\nç¼©è¿›ï¼ˆåŒæ—¶è°ƒæ•´ç¼–å·ï¼Œä¸‹çš†åŒï¼‰\n\n\n&lt;C-t&gt;\nINSERT\nç¼©è¿›\n\n\n&gt;\nViSUAL\nç¼©è¿›\n\n\n&lt;&lt;\nNORMAL\nå–æ¶ˆç¼©è¿›\n\n\n&lt;C-d&gt;\nINSERT\nå–æ¶ˆç¼©è¿›\n\n\n&lt;\nVISUAL\nå–æ¶ˆç¼©è¿›\n\n\n\nrender-markdown\nåŠŸèƒ½ï¼šæ–‡æ¡£è¶…è¯¦ç»†ï¼Œé…ç½®éå¸¸ç®€å•çš„markdownæ¸²æŸ“æ’ä»¶ã€‚å»ºè®®ç”¨å®ƒæ›¿ä»£:LazyExtraé‡Œçš„markdownæ¨¡å—ã€‚\n\næ ‡é¢˜å›¾æ ‡ã€paddingï¼Œé«˜äº®èŒƒå›´ã€‚\nä»£ç å—ã€calloutsã€é“¾æ¥å›¾æ ‡ã€‚\nåˆ—è¡¨ç¾åŒ–ã€‚\nç­‰ç­‰ã€‚\n\né…ç½®ï¼šè¯¦æƒ…è§æ­¤é“¾æ¥\nè¦æƒ³èˆ’èˆ’æœæœç¼–è¾‘markdownæ–‡æ¡£è¿˜éœ€è¦å…³é—­æ‹¼å†™æ£€æŸ¥ã€‚\n\nlspsaga.nvim\nåŠŸèƒ½ï¼šæä¾›äº†ä¸€ç»„LSPå¢å¼ºåŠŸèƒ½ï¼Œæœ‰åŸæœ¬nvim-lspconfigä¸åŒ…å«çš„åŠŸèƒ½ï¼Œä¹Ÿæœ‰åšå¾—æ›´å¥½çš„åŠŸèƒ½ï¼Œä¹Ÿæœ‰åŸæœ¬å°±è¶³å¤Ÿçš„åŠŸèƒ½ï¼Œåˆ—ä¸¾å‡ ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„ï¼š\nä»¥ä¸‹å¿«æ·é”®éƒ½æ¥æºäºæˆ‘çš„ä¸ªäººé…ç½®ã€‚\n\n\n\nHober: æœ¬æ’ä»¶æä¾›çš„æ‚¬æµ®ä¿¡æ¯çª—å£æ”¯æŒmarkdownæ¸²æŸ“ï¼Œå¿«æ·é”®æ˜¯&lt;leader&gt;kã€‚\n\n\nDiagnostic: æœ¬æ’ä»¶æä¾›äº†æ›´ä¸°å¯Œçš„è¯Šæ–­ä¿¡æ¯ã€å¯èƒ½çš„ä¿®å¤å»ºè®®ï¼Œä»¥åŠå…‰æ ‡ã€è¡Œã€buffã€å·¥ä½œåŒºå››ä¸ªèŒƒå›´çš„è¯Šæ–­ä¿¡æ¯å±•ç¤ºã€‚\n\n\n\nåŠŸèƒ½\nå¿«æ·é”®\n\n\n\n\nä¸Šä¸€ä¸ªè¯Šæ–­ä¿¡æ¯\n[e\n\n\nä¸‹ä¸€ä¸ªè¯Šæ–­ä¿¡æ¯\n]e\n\n\nå…‰æ ‡ä½ç½®çš„è¯Šæ–­ä¿¡æ¯\n&lt;leader&gt;dc\n\n\nå…‰æ ‡æ‰€åœ¨è¡Œçš„è¯Šæ–­ä¿¡æ¯\n&lt;leader&gt;dl\n\n\nå½“å‰buffçš„è¯Šæ–­ä¿¡æ¯\n&lt;leader&gt;db\n\n\nå½“å‰å·¥ä½œåŒºçš„è¯Šæ–­ä¿¡æ¯\n&lt;leader&gt;dw\n\n\n\n\n\nOutline: æŒ‰ä¸‹&lt;C-o&gt;å°±å¯ä»¥æ‰“å¼€æ–‡ä»¶çš„å¤§çº²ï¼Œåœ¨å¤§çº²é‡ŒæŒ‰eå¯ä»¥è·³è½¬åˆ°å¯¹åº”ä½ç½®ã€‚\n\n\nDefinition: æä¾›äº†ä¸€ä¸ªå®šä¹‰æ‚¬æµ®çª—ï¼Œå¯ä»¥åœ¨é‡Œé¢ç¼–è¾‘ã€‚\n\n\nflash.nvim\nè¿™æ˜¯ä¸€ä¸ªLazyVimè‡ªå¸¦çš„æ’ä»¶ï¼Œæä¾›äº†æå…¶å¥½ç”¨çš„è·³è½¬åŠŸèƒ½ï¼Œæ­£å¦‚å…¶åâ€”â€”FLASHã€‚\n\n\n\nå¿«æ·é”®\nåŠŸèƒ½\nè¯¦ç»†æè¿°\n\n\n\n\ns\næœç´¢\nä¼šç»™æ¯ä¸ªåŒ¹é…é¡¹æä¾›å”¯ä¸€æ ‡è¯†ï¼Œä¾¿äºå¿«é€Ÿè·³è½¬\n\n\nS\ntreesitteræœç´¢\nä¸ºæ¯ä¸ªå±‚çº§çš„ä»£ç æä¾›è¡¨ç¤ºï¼Œä¾¿äºå¿«é€Ÿé€‰æ‹©æ•´å—çš„ä»£ç \n\n\nf/F\nå‘åã€å‰å­—ç¬¦è·³è½¬\nè·³è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªå­—ç¬¦\n\n\n;/,\nå‘åã€å‰å­—ç¬¦è·³è½¬\nä½¿ç”¨å‰ä¸€æ¬¡f/Fçš„è·³è½¬æ¨¡å¼\n\n\n[dyc]r\né—ªç°åˆ é™¤ã€å¤åˆ¶ã€æ›¿æ¢\nè·³è½¬åˆ°æŸä¸ªä½ç½®ï¼Œå®Œæˆæ“ä½œåè¿”å›\n\n\n[dyc]R\ntreesitteré—ªç°\næ“ä½œçš„å•ä½æ˜¯treesitterå—ï¼Œå¯ä»¥é€‰æ‹©æ‰€æœ‰åŒ…å«è¾“å…¥çš„å­—ç¬¦çš„å—\n\n\n&lt;C-s&gt;\nåœ¨/æˆ–è€…?æœç´¢æ¨¡å¼ä¸‹å¼€å…³\nä¼šç»™æ¯ä¸ªåŒ¹é…é¡¹æä¾›å”¯ä¸€æ ‡è¯†\n\n\n\n","categories":["ç¬”è®°","neovim"],"tags":["ç¬”è®°","å·¥å…·","ç»ˆç«¯","ç¼–è¾‘å™¨","neovim"]},{"title":"neovimé…ç½®","url":"/2025/06/26/neovim%E9%85%8D%E7%BD%AE/","content":"å‰ç½®\né…ç½®æ–‡ä»¶åœ¨å“ª\nåœ¨neovimçš„å‘½ä»¤æ¨¡å¼è¾“å…¥:= vim.fn.stdpath(&quot;config&quot;)å¯ä»¥æŸ¥çœ‹é…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œwinä¸‹é»˜è®¤ä¸º~\\AppData\\Local\\nvim\\ï¼Œåœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º/ä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶init.luaã€‚\næ¨¡å—åŒ–é…ç½®\nåœ¨init.luaçš„åŒçº§ç›®å½•åˆ›å»ºluaç›®å½•ç”¨ä»¥å­˜æ”¾å„ä¸ªæ¨¡å—ï¼Œç»§è€Œä½¿ç”¨require(&quot;module&quot;)å¼•å…¥åä¸ºmodule.luaçš„æ¨¡å—ã€‚\nå»ºè®®ï¼š åœ¨luaä¸‹å†ç»†åˆ†ï¼Œä¾‹å¦‚åŸºç¡€çš„é…ç½®æ”¾åˆ°lua/core/ä¸‹ï¼Œæ‹“å±•çš„é…ç½®æ”¾åˆ°lua/plugins/ï¼Œå¼•å…¥çš„æ—¶å€™ä½¿ç”¨require(&quot;core.module&quot;)\né…ç½®å‘½ä»¤ç»“æ„ä¸ä¸€æ¬¡æ€§ä½¿ç”¨\nå¤§å¤šæ•°é…ç½®å‘½ä»¤éƒ½åœ¨vim.opt.ä¹‹ä¸‹ï¼Œå¯ä»¥åœ¨å‘½ä»¤æ¨¡å¼ä½¿ç”¨ä¾‹å¦‚:lua vim.opt.number = trueå¯¹å½“å‰ä¼šè¯ç”Ÿæ•ˆã€‚\né…ç½®é¡¹\nè¡Œå·\nè¡Œå·ï¼švim.opt.number = true\nç›¸å¯¹è¡Œå·ï¼Œä¾¿äºå¿«æ·ç§»åŠ¨å…‰æ ‡ï¼švim.opt.relativenumber = true\né«˜äº®ã€æœ€å¤§é•¿åº¦\nvim.opt.cursorline = true\nvim.opt.colorcolumn = &quot;80&quot;\ntabé”®è¡Œä¸º\næ”¹ä¸ºæ’å…¥ç©ºæ ¼ï¼švim.opt.expandtab = true\nä¸€ä¸ªåˆ¶è¡¨ç¬¦æ˜¾ç¤ºä¸ºå¤šå°‘ç©ºæ ¼ï¼švim.opt.tabstop = 4\nè¡Œé¦–ç¼©è¿›é•¿åº¦ï¼Œ0è¡¨ç¤ºä¸tabstopä¸€è‡´vim.opt.shiftwidth = 0\né…ç½®æ›´æ–°ç›¸å…³\nvim.opt.autoread = true\nå¿«æ·é”®\napi: vim.keymap.set(mode, lhs, rhs, opts)ã€‚\nå‚æ•°è§£é‡Šï¼š\n\nmode: å¿«æ·é”®ç”Ÿæ•ˆæ¨¡å¼ï¼ˆnvimçš„æ¨¡å¼ï¼Œ&quot;n&quot;æ˜¯normalæ¨¡å¼ï¼Œ&quot;i&quot;æ˜¯insertæ¨¡å¼ç­‰ï¼‰ï¼Œå¯ä»¥æ˜¯å•ä¸€æ¨¡å¼ï¼ˆå­—ç¬¦ï¼‰ä¹Ÿå¯ä»¥æ˜¯ç»„åˆæ¨¡å¼ï¼ˆtableï¼‰ã€‚\nlsh: æŒ‰é”®ï¼Œå…¶ä¸­ï¼Œ\n\nCtrl + a: &lt;C-a&gt;\nAlt + a: &lt;A-a&gt;\n\n\nrhs: åŠŸèƒ½ã€æ˜ å°„çš„å¦ä¸€ç»„æŒ‰é”®ã€luaå‡½æ•°ã€‚\nopts: tableï¼Œé¢å¤–é…ç½®ã€‚\n\næ’ä»¶\n","categories":["ç¬”è®°","neovim"],"tags":["ç¬”è®°","å·¥å…·","ç»ˆç«¯","ç¼–è¾‘å™¨","neovim"]},{"title":"pytestç¬”è®°ï¼ˆä¸€ï¼‰","url":"/2025/07/07/pytest%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/","content":"æµ‹è¯•æ¡†æ¶çš„ä½œç”¨\n\nç”¨ä¾‹å‘ç°ã€ç®¡ç†ã€æ‰§è¡Œã€‚\nç¯å¢ƒç®¡ç†ã€‚\næµ‹è¯•æŠ¥å‘Šã€‚\n\npytestå¯¹æ¯”unittest\n\néœ€è¦æ‰‹åŠ¨å®‰è£…ã€å¯ä»¥æŒ‡å®šç‰ˆæœ¬ã€‚\nä»£ç é£æ ¼ä¸æ˜¯Javaè€Œæ˜¯Pythonã€‚\næ‹¥æœ‰æ›´ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ã€‚\nå®Œå…¨å…¼å®¹unittestã€‚\n\nå¿«é€Ÿä¸Šæ‰‹\n\nå®‰è£…ï¼šuv add pytest -U\nå¯åŠ¨æ–¹å¼ï¼š\n\nåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ·»åŠ pytest.main()ã€‚\npytestï¼šè‡ªåŠ¨å‘ç°å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æµ‹è¯•æ–‡ä»¶ï¼Œæ‰§è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚\npytest test_*.pyï¼šæ‰§è¡ŒæŒ‡å®šçš„æµ‹è¯•æ–‡ä»¶ã€‚\npytest test_*.py::test_funcï¼šæ‰§è¡ŒæŒ‡å®šçš„æµ‹è¯•å‡½æ•°ã€‚\n\n\n\nç”¨ä¾‹\n\n\nç»“æœç§ç±»\n\n\n\nç¼©å†™\nå•è¯\nå«ä¹‰\n\n\n\n\n.\npassed\né€šè¿‡\n\n\nF\nfailed\nå¤±è´¥ï¼ˆç”¨ä¾‹æ‰§è¡ŒæŠ¥é”™ï¼‰\n\n\nE\nerror\nå‡ºé”™ï¼ˆfixtureæ‰§è¡ŒæŠ¥é”™ï¼‰\n\n\ns\nskipped\nè·³è¿‡\n\n\nX\nxpassed\né¢„æœŸå¤–çš„é€šè¿‡ï¼ˆä¸ç¬¦åˆé¢„æœŸï¼‰\n\n\nx\nxfailed\né¢„æœŸå†…çš„å¤±è´¥ï¼ˆç¬¦åˆé¢„æœŸï¼‰\n\n\n\n\n\nç”¨ä¾‹å‘ç°è§„åˆ™å’Œå†…å®¹è§„åˆ™\n\nç”¨ä¾‹çš„å‘ç°è§„åˆ™â€”â€”è¯†åˆ«ã€åŠ è½½ç”¨ä¾‹çš„è¿‡ç¨‹\næ­¥éª¤ï¼š\n\néå†å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¾‹å¤–ï¼švenvã€.*ã€‚\næ‰“å¼€test_å¼€å¤´æˆ–è€…_testç»“å°¾çš„pythonæ–‡ä»¶ã€‚\néå†æ‰€æœ‰Testå¼€å¤´çš„ç±»ï¼ˆä¸è¿‡è¯¥ç±»å¹¶éæ˜¯ç”¨ä¾‹ï¼‰ã€‚\næ”¶é›†æ‰€æœ‰test_å¼€å¤´çš„å‡½æ•°æˆ–æ–¹æ³•ä½œä¸ºç”¨ä¾‹ã€‚\n\n\nç”¨ä¾‹çš„å†…å®¹\n\nå¯è°ƒç”¨ï¼ˆå‡½æ•°ã€æ–¹æ³•ã€ç±»ã€å¯¹è±¡ï¼‰ã€‚\ntest_å¼€å¤´ã€‚\næ²¡æœ‰å‚æ•°ï¼Œä½†å¯ä»¥ä½¿ç”¨å†…ç½®æ ‡è®°ç­‰æ‰‹æ®µä½¿ç”¨å‚æ•°ã€‚\næ²¡æœ‰è¿”å›å€¼ï¼ˆ8.4ç‰ˆæœ¬ååŠ å…¥ï¼‰ã€‚\n\n\nç»ƒä¹ ï¼šå¯¹åŠ æ³•å‡½æ•°è¿›è¡Œæ–­è¨€ã€‚æ³¨æ„æœ¬ä¾‹é‡Œç±»å’Œæ–¹æ³•çš„å‘½åæ–¹å¼ï¼Œä»¥åŠè¿™ç§åˆ†ç»„æµ‹è¯•ï¼ˆå°è£…ï¼‰çš„è®¾è®¡æ€è·¯ã€‚\n\ndef add(a, b):    &quot;&quot;&quot;Returns the sum of a and b.&quot;&quot;&quot;    return a + bclass TestAdd:    def test_int(self):        &quot;&quot;&quot;Tests the add function.&quot;&quot;&quot;        assert add(2, 3) == 5    def test_str(self):        &quot;&quot;&quot;Tests the add function with string inputs.&quot;&quot;&quot;        assert add(&quot;1&quot;, &quot;2&quot;) == &quot;12&quot;    def test_list(self):        &quot;&quot;&quot;Tests the add function with list inputs.&quot;&quot;&quot;        assert add([1, 2], [3, 4]) == [1, 2, 3, 4]\n\n\n\n\né…ç½®æ¡†æ¶\n\næ”¹å˜pytestçš„é»˜è®¤è§„åˆ™ï¼Œæ–¹å¼æœ‰ä¸‰ç§ï¼š\n\nå‘½ä»¤å‚æ•°ï¼Œä¾‹å¦‚pytest -vï¼Œ-å¼€å¤´ã€‚\nåœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªpytest.inié…ç½®æ–‡ä»¶ï¼Œå°å†™å­—æ¯ã€‚\nç¯å¢ƒå˜é‡ï¼ˆå¾ˆæœ‰é™ï¼‰ï¼Œå¤§å†™å­—æ¯ã€‚\n\n\nè·å–é…ç½®å€¼çš„æ–¹å¼ï¼špytest -hã€‚\nå¸¸è§çš„å‘½ä»¤å‚æ•°:\n\n-v: å¢åŠ è¯¦ç»†è¾“å‡ºã€‚\n-s: åœ¨ç”¨ä¾‹ä¸­æ­£å¸¸ä½¿ç”¨è¾“å…¥è¾“å‡º*ï¼Œé»˜è®¤æƒ…å†µä¸‹pytestä¼šæ•è·è¾“å‡ºã€‚\n-x: å¿«é€Ÿé€€å‡ºï¼Œä¸€æ—¦æœ‰ç”¨ä¾‹å¤±è´¥å°±é€€å‡ºã€‚\n\n\n-m: ç”¨ä¾‹ç­›é€‰ä¾‹å¦‚pytest -m webï¼Œåªæ‰§è¡Œæ ‡è®°ä¸ºwebçš„ç”¨ä¾‹ã€‚\n\næ ‡è®°\n\nç”¨ä¾‹æ ‡è®°ï¼Œè£…é¥°å™¨ï¼š@pytest.mark.æ ‡è®°åï¼Œä¾‹å¦‚@pytest.mark.webã€‚\næ ‡è®°çš„ä½œç”¨ï¼šç­›é€‰ç”¨ä¾‹ã€åˆ†ç»„ç”¨ä¾‹ã€æ·»åŠ å…ƒæ•°æ®ã€‚\nç”¨æˆ·è‡ªå®šä¹‰æ ‡ï¼Œä»…ç”¨ä½œç”¨ä¾‹ç­›é€‰ï¼Œä¾‹å¦‚@pytest.mark.slowã€‚ä½¿ç”¨æ­¥éª¤ï¼š\n\næ³¨å†Œï¼Œå‘½ä»¤å‚æ•°æˆ–é…ç½®æ–‡ä»¶ã€‚ [pytest]markers =  api: æ¥å£æµ‹è¯•  web: æ…¢é€Ÿæµ‹è¯•  login: ç™»å½•æµ‹è¯•\n\næ ‡è®°ï¼Œè£…é¥°å™¨ã€‚ import pytest@pytest.mark.slowdef test_slow_function():  assert True\n\nç­›é€‰ï¼Œpytest -m markerã€‚\n\n\n\n\næ¡†æ¶å†…ç½®æ ‡è®°ï¼Œå¯ä»¥å¢åŠ ç‰¹æ®Šçš„æ‰§è¡Œæ•ˆæœï¼Œä¾‹å¦‚@pytest.mark.skipã€‚\n\nskip: æ— æ¡ä»¶è·³è¿‡ç”¨ä¾‹ã€‚\nskipif: æ¡ä»¶è·³è¿‡ç”¨ä¾‹ã€‚\nxfail: é¢„æœŸå¤±è´¥ã€‚\nparametrize: å‚æ•°åŒ–ç”¨ä¾‹ã€‚\næ•°æ®é©±åŠ¨æµ‹è¯•=å‚æ•°åŒ–æµ‹è¯•+æ•°æ®æ–‡ä»¶\nå«ä¹‰æ˜¯ï¼Œæ ¹æ®æ•°æ®æ–‡ä»¶çš„å†…å®¹ï¼ŒåŠ¨æ€å†³å®šç”¨ä¾‹çš„æ•°é‡ã€å†…å®¹ã€‚\nusefixtures: ä½¿ç”¨fixtureã€‚\n\n\n\næ•°æ®é©±åŠ¨æµ‹è¯•\n\nä»æ•°æ®æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œä»¥åˆ—è¡¨æŒ‰é¡ºåºèµ‹å€¼ç»™å‚æ•°ã€‚\nç”¨ä¾‹çš„æ•°é‡ç”±æ•°æ®æ•°é‡å†³å®šã€‚\nä¾‹å­ï¼š@pytest.mark.parametrize(&quot;a, b, c&quot;, read_csv(&quot;data.csv&quot;))def test_ddt(self, a, b, c):    assert add(a, b) == c \n\n\nå¤¹å…·fixture\n\nåˆ›å»ºä¸€ä¸ªfixtureã€‚\n\n  @pytest.fixturedef f():  # å‰ç½®æ“ä½œ  yield # æ‰§è¡Œç”¨ä¾‹  # åç½®æ“ä½œ\n\nä½¿ç”¨ï¼Œä»¥å‚æ•°å½¢å¼ä¼ é€’ç»™ç”¨ä¾‹ã€‚\n\n  def test_1(f):    pass\n\nä½¿ç”¨ï¼Œæ ‡è®°ã€‚\n\n  @pytest.mark.usefixtures(&quot;fgh&quot;)def test_2():  pass\né«˜çº§ç”¨æ³•\n\nè‡ªåŠ¨ä½¿ç”¨fixtureã€‚\n\nåœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®autouse = Trueã€‚\nåœ¨ç”¨ä¾‹ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦ä¼ é€’å‚æ•°ã€‚\n\n@pytest.fixture(autouse=True)def f():    # å‰ç½®æ“ä½œ    yield    # åç½®æ“ä½œ\n\nä¾èµ–ä½¿ç”¨ã€‚\n\nåœ¨ä¸€ä¸ªfixtureä¸­ä½¿ç”¨å¦ä¸€ä¸ªfixtureã€‚\n\n@pytest.fixturedef f1():    # å‰ç½®æ“ä½œ    yield    # åç½®æ“ä½œ@pytest.fixturedef f2(f1):    # ä½¿ç”¨f1çš„å‰ç½®æ“ä½œ    yield    # ä½¿ç”¨f1çš„åç½®æ“ä½œ\n\nè¿”å›å†…å®¹ã€‚\nèŒƒå›´å…±äº«ã€‚\n\n","categories":["ç¬”è®°","python"],"tags":["ç¬”è®°","python","pytest","æµ‹è¯•","æµ‹è¯•æ¡†æ¶"]},{"title":"QACache ä¸‰å±‚æ¶æ„è®¾è®¡æ–‡æ¡£","url":"/2025/07/18/qacache_2/","content":"QACache ä¸‰å±‚æ¶æ„è®¾è®¡æ–‡æ¡£\né¡¹ç›®æ¦‚è¿°\nQACache æ˜¯ä¸€ä¸ªåŸºäºè¯­ä¹‰ç¼“å­˜çš„å¤§æ¨¡å‹åŠ é€Ÿç³»ç»Ÿï¼Œé‡‡ç”¨ä¸‰å±‚åˆ†å¸ƒå¼æ¶æ„è®¾è®¡ï¼Œæ—¨åœ¨é€šè¿‡ç¼“å­˜ç›¸ä¼¼æŸ¥è¯¢çš„å“åº”æ¥å‡å°‘å¤§æ¨¡å‹è°ƒç”¨æ¬¡æ•°ï¼Œæå‡å“åº”é€Ÿåº¦å¹¶é™ä½æœåŠ¡å™¨è´Ÿè½½ã€‚\næ•´ä½“æ¶æ„è®¾è®¡\nä¸‰å±‚ç¼“å­˜æ¶æ„\nç”¨æˆ·ä¾§è½»é‡ç¼“å­˜ â†’ CDN/å±€åŸŸç½‘ç½‘å…³ â†’ æœåŠ¡å™¨ä¾§é‡å‹ç¼“å­˜ â†’ å¤§æ¨¡å‹æœåŠ¡\næ¶æ„ç‰¹ç‚¹\n\nç”¨æˆ·ä¾§ï¼šè½»é‡åŒ–ã€å®æ—¶äº¤äº’ã€é«˜å¬å›ç‡ã€ä½ç²¾åº¦\nCDNç½‘å…³ï¼šæ•°æ®æ”¶é›†ã€æ™ºèƒ½åˆ†å‘ã€æ¨¡å¼åˆ†æ\næœåŠ¡å™¨ä¾§ï¼šé«˜æ€§èƒ½ã€ç²¾å‡†åŒ¹é…ã€ä½å¬å›ç‡ã€ä¸å¢åŠ ç½‘ç»œè´Ÿè½½\n\n1. ç”¨æˆ·ä¾§è½»é‡ç¼“å­˜ï¼ˆClient-Side Cacheï¼‰\nè®¾è®¡ç›®æ ‡\n\nä¸€é”®éƒ¨ç½²ï¼Œé¿å…ç¹çé…ç½®\nå†…å­˜å ç”¨å°ï¼Œå“åº”é€Ÿåº¦å¿«\né«˜å¬å›ç‡ï¼Œä¸ºç”¨æˆ·æä¾›å……åˆ†å‚è€ƒ\næ”¯æŒç¦»çº¿å·¥ä½œæ¨¡å¼\n\næŠ€æœ¯é€‰å‹\næ ¸å¿ƒç»„ä»¶\n\nå­˜å‚¨å¼•æ“ï¼šSQLiteï¼ˆè½»é‡çº§æœ¬åœ°æ•°æ®åº“ï¼‰\nå…³é”®è¯æ£€ç´¢ï¼šFTS5ï¼ˆåŸºäºå…³é”®è¯çš„ä¼ ç»Ÿæ£€ç´¢ï¼‰\nå‘é‡æœç´¢ï¼šFaissï¼ˆè½»é‡çº§å‘é‡æœç´¢ï¼‰\nåµŒå…¥æ¨¡å‹ï¼šBGE-small-zh-v1.5ï¼ˆå°æ¨¡å‹ï¼Œå¿«é€Ÿæ¨ç†ï¼‰\nWebæ¡†æ¶ï¼šFastAPIï¼ˆé«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶ï¼‰\n\næ¶æ„å®ç°\n# ç”¨æˆ·ä¾§æ ¸å¿ƒæ¶æ„class LightweightCache:    def __init__(self):        # ä½¿ç”¨ SQLite ä½œä¸ºæœ¬åœ°å­˜å‚¨        self.local_db = sqlite3.connect(&#x27;cache.db&#x27;)        # ä½¿ç”¨è½»é‡çº§å‘é‡æœç´¢åº“        self.vector_index = faiss.IndexFlatIP(384)  # BGE-small æ¨¡å‹        # å†…å­˜ç¼“å­˜        self.memory_cache = &#123;&#125;            def search(self, query, top_k=10):        # ä¼˜å…ˆçº§ï¼šå†…å­˜ -&gt; æœ¬åœ°å‘é‡ -&gt; è¿œç¨‹CDN        pass\nè½»é‡çº§å‘é‡æœç´¢\nimport faissimport numpy as npfrom sentence_transformers import SentenceTransformerclass ClientVectorSearch:    def __init__(self):        # ä½¿ç”¨æ›´å°çš„æ¨¡å‹        self.model = SentenceTransformer(&#x27;BAAI/bge-small-zh-v1.5&#x27;)        self.index = faiss.IndexFlatIP(384)  # 384ç»´å‘é‡        self.id_to_response = &#123;&#125;            def add_cache(self, query, response):        embedding = self.model.encode([query])        doc_id = len(self.id_to_response)        self.index.add(embedding.astype(&#x27;float32&#x27;))        self.id_to_response[doc_id] = &#123;            &#x27;query&#x27;: query,            &#x27;response&#x27;: response,            &#x27;timestamp&#x27;: time.time()        &#125;        def search(self, query, top_k=10, threshold=0.7):        query_embedding = self.model.encode([query])        scores, indices = self.index.search(            query_embedding.astype(&#x27;float32&#x27;), top_k        )                results = []        for score, idx in zip(scores[0], indices[0]):            if score &gt; threshold and idx in self.id_to_response:                result = self.id_to_response[idx].copy()                result[&#x27;score&#x27;] = float(score)                results.append(result)                return results\nä¸€é”®éƒ¨ç½²\n# docker-compose.yml - ä¸€é”®å¯åŠ¨version: &#x27;3.8&#x27;services:  llm-cache-client:    image: llmcache/client:latest    ports:      - &quot;8080:8080&quot;    volumes:      - ./cache:/data    environment:      - CACHE_SIZE=1GB      - CDN_ENDPOINT=https://cache-cdn.example.com      - RECALL_THRESHOLD=0.7    command: &gt;      sh -c &quot;        python -m llmcache.client         --port 8080         --cache-size 1GB         --auto-sync      &quot;\n2. CDN/å±€åŸŸç½‘ç½‘å…³ï¼ˆCache Distribution Networkï¼‰\nè®¾è®¡ç›®æ ‡\n\næ”¶é›†ç”¨æˆ·æŸ¥è¯¢æ¨¡å¼å’Œä¹ æƒ¯\næ™ºèƒ½åˆ†å‘ç¼“å­˜æ•°æ®\næä¾›å†·å¯åŠ¨æ•°æ®æ”¯æŒ\nè´Ÿè½½å‡è¡¡å’Œå°±è¿‘è®¿é—®\n\næ ¸å¿ƒåŠŸèƒ½\næ•°æ®æ”¶é›†ä¸åˆ†æ\nclass CacheAnalytics:    def __init__(self):        self.user_patterns = &#123;&#125;        self.popular_queries = defaultdict(int)        self.cache_hit_rates = &#123;&#125;            def analyze_user_behavior(self, user_id, query, response_time):        # åˆ†æç”¨æˆ·æŸ¥è¯¢æ¨¡å¼        if user_id not in self.user_patterns:            self.user_patterns[user_id] = &#123;                &#x27;frequent_topics&#x27;: [],                &#x27;query_times&#x27;: [],                &#x27;preferred_response_length&#x27;: 0            &#125;                # æå–æŸ¥è¯¢ä¸»é¢˜        topic = self.extract_topic(query)        self.user_patterns[user_id][&#x27;frequent_topics&#x27;].append(topic)                # è®°å½•æŸ¥è¯¢æ—¶é—´æ¨¡å¼        self.user_patterns[user_id][&#x27;query_times&#x27;].append(            datetime.now().hour        )                # æ›´æ–°çƒ­é—¨æŸ¥è¯¢        self.popular_queries[self.normalize_query(query)] += 1        def predict_cache_needs(self, user_id):        # é¢„æµ‹ç”¨æˆ·å¯èƒ½éœ€è¦çš„ç¼“å­˜æ•°æ®        patterns = self.user_patterns.get(user_id, &#123;&#125;)        recommendations = []                # åŸºäºå†å²ä¸»é¢˜æ¨è        frequent_topics = patterns.get(&#x27;frequent_topics&#x27;, [])        for topic in set(frequent_topics):            similar_queries = self.find_similar_queries(topic)            recommendations.extend(similar_queries)                return recommendations\næ™ºèƒ½ç¼“å­˜åˆ†å‘\nclass CacheDistributor:    def __init__(self):        self.regional_caches = &#123;&#125;        self.load_balancer = LoadBalancer()            def distribute_cache(self, cache_data, target_regions):        # æ ¹æ®åœ°ç†ä½ç½®å’Œç½‘ç»œçŠ¶å†µåˆ†å‘ç¼“å­˜        for region in target_regions:            regional_cache = self.regional_caches.get(region)            if regional_cache:                # å¼‚æ­¥æ¨é€ç¼“å­˜æ•°æ®                asyncio.create_task(                    regional_cache.push_cache(cache_data)                )        def smart_prefetch(self, user_location, user_patterns):        # æ™ºèƒ½é¢„å–ç¼“å­˜æ•°æ®        nearby_cache = self.find_nearest_cache(user_location)        predicted_queries = self.predict_user_queries(user_patterns)                for query in predicted_queries:            if not nearby_cache.has_cache(query):                # ä»æœåŠ¡å™¨ç«¯è·å–å¹¶ç¼“å­˜                response = self.fetch_from_server(query)                nearby_cache.add_cache(query, response)\n3. æœåŠ¡å™¨ä¾§é‡å‹ç¼“å­˜ï¼ˆServer-Side Cacheï¼‰\nè®¾è®¡ç›®æ ‡\n\né«˜æ€§èƒ½ã€ç²¾å‡†åŒ¹é…\nä½å¬å›ç‡ï¼Œé¿å…ç½‘ç»œè´Ÿè½½\næ”¯æŒå¤§è§„æ¨¡æ•°æ®å­˜å‚¨\næä¾›é«˜è´¨é‡ç¼“å­˜æº\n\næŠ€æœ¯é€‰å‹\n\næœç´¢å¼•æ“ï¼šElasticsearchï¼ˆæ”¯æŒåˆ†ç‰‡å’Œé›†ç¾¤ï¼‰\nå‘é‡æ¨¡å‹ï¼šBGE-base-zh-v1.5ï¼ˆé«˜ç²¾åº¦åµŒå…¥ï¼‰\nç¼“å­˜ç­–ç•¥ï¼šLRU + TTL + è´¨é‡è¯„åˆ†\n\nåˆ†ç‰‡å’Œé›†ç¾¤ä¼˜åŒ–\n# elasticsearch.ymlcluster.name: llm-cache-clusternode.name: cache-node-1# åˆ†ç‰‡é…ç½®index.number_of_shards: 3index.number_of_replicas: 1# å†…å­˜ä¼˜åŒ–indices.memory.index_buffer_size: 20%indices.memory.min_index_buffer_size: 96mb# æŸ¥è¯¢ä¼˜åŒ–index.search.slowlog.threshold.query.warn: 10sindex.search.slowlog.threshold.fetch.warn: 1s\nç²¾å‡†åŒ¹é…ä¼˜åŒ–\nclass PrecisionCacheManager:    def __init__(self):        self.es_client = Elasticsearch(...)        self.precision_threshold = 0.9  # é«˜ç²¾åº¦é˜ˆå€¼            def precise_search(self, query, context=None):        # æ„å»ºç²¾ç¡®æŸ¥è¯¢        search_body = &#123;            &quot;query&quot;: &#123;                &quot;bool&quot;: &#123;                    &quot;must&quot;: [                        &#123;                            &quot;script_score&quot;: &#123;                                &quot;query&quot;: &#123;&quot;match_all&quot;: &#123;&#125;&#125;,                                &quot;script&quot;: &#123;                                    &quot;source&quot;: &quot;cosineSimilarity(params.query_vector, &#x27;query_vector&#x27;) + 1.0&quot;,                                    &quot;params&quot;: &#123;                                        &quot;query_vector&quot;: self.encode_query(query)                                    &#125;                                &#125;                            &#125;                        &#125;                    ],                    &quot;filter&quot;: [                        &#123;&quot;range&quot;: &#123;&quot;score&quot;: &#123;&quot;gte&quot;: self.precision_threshold&#125;&#125;&#125;                    ]                &#125;            &#125;,            &quot;size&quot;: 1,  # åªè¿”å›æœ€åŒ¹é…çš„ç»“æœ            &quot;_source&quot;: [&quot;query&quot;, &quot;response&quot;, &quot;model&quot;, &quot;context_hash&quot;]        &#125;                # å¦‚æœæœ‰ä¸Šä¸‹æ–‡ï¼Œæ·»åŠ ä¸Šä¸‹æ–‡åŒ¹é…        if context:            context_hash = self.hash_context(context)            search_body[&quot;query&quot;][&quot;bool&quot;][&quot;filter&quot;].append(                &#123;&quot;term&quot;: &#123;&quot;context_hash&quot;: context_hash&#125;&#125;            )                result = self.es_client.search(            index=&quot;llm_cache_precision&quot;,            body=search_body        )                return result.get(&#x27;hits&#x27;, &#123;&#125;).get(&#x27;hits&#x27;, [])\n4. æ•°æ®åŒæ­¥ä¸ä¸€è‡´æ€§\nåˆ†å±‚åŒæ­¥ç­–ç•¥\nclass CacheSyncManager:    def __init__(self):        self.sync_queues = &#123;            &#x27;client_to_cdn&#x27;: asyncio.Queue(),            &#x27;cdn_to_server&#x27;: asyncio.Queue(),            &#x27;server_to_cdn&#x27;: asyncio.Queue()        &#125;            async def sync_client_to_cdn(self, client_cache):        # å®¢æˆ·ç«¯å‘CDNåŒæ­¥æ–°äº§ç”Ÿçš„ç¼“å­˜        while True:            new_cache = await self.sync_queues[&#x27;client_to_cdn&#x27;].get()                        # æ£€æŸ¥æ˜¯å¦å€¼å¾—åŒæ­¥ï¼ˆåŸºäºè´¨é‡è¯„åˆ†ï¼‰            if self.evaluate_cache_quality(new_cache) &gt; 0.8:                await self.push_to_cdn(new_cache)                            # æ‰¹é‡åŒæ­¥ä»¥å‡å°‘ç½‘ç»œå¼€é”€            if len(self.pending_syncs) &gt; 100:                await self.batch_sync_to_cdn()        async def sync_cdn_to_server(self):        # CDNå‘æœåŠ¡å™¨åŒæ­¥é«˜è´¨é‡ç¼“å­˜        while True:            # æ”¶é›†ä¸€æ®µæ—¶é—´å†…çš„ç¼“å­˜æ•°æ®            await asyncio.sleep(3600)  # æ¯å°æ—¶åŒæ­¥ä¸€æ¬¡                        high_quality_caches = self.filter_high_quality_caches()            if high_quality_caches:                await self.push_to_server(high_quality_caches)        def evaluate_cache_quality(self, cache_data):        # è¯„ä¼°ç¼“å­˜è´¨é‡        factors = &#123;            &#x27;response_length&#x27;: min(len(cache_data[&#x27;response&#x27;]) / 1000, 1.0),            &#x27;query_clarity&#x27;: self.calculate_query_clarity(cache_data[&#x27;query&#x27;]),            &#x27;hit_frequency&#x27;: cache_data.get(&#x27;hit_count&#x27;, 0) / 100,            &#x27;user_feedback&#x27;: cache_data.get(&#x27;feedback_score&#x27;, 0.5)        &#125;                return sum(factors.values()) / len(factors)\n5. å†·å¯åŠ¨æ•°æ®è§£å†³æ–¹æ¡ˆ\nå¯åŠ¨æ•°æ®ç­–ç•¥\nclass ColdStartManager:    def __init__(self):        self.seed_data_sources = [            &#x27;https://huggingface.co/datasets/common-qa&#x27;,            &#x27;https://cache-seeds.llmcache.com/zh-cn&#x27;,            &#x27;local://seed_data/&#x27;        ]            async def bootstrap_cache(self, domain=None, language=&#x27;zh-cn&#x27;):        # ä¸‹è½½ç§å­æ•°æ®        seed_data = await self.download_seed_data(domain, language)                # æœ¬åœ°å¤„ç†å’ŒéªŒè¯        validated_data = self.validate_seed_data(seed_data)                # æ„å»ºåˆå§‹ç´¢å¼•        await self.build_initial_index(validated_data)                # å¯åŠ¨é¢„çƒ­æŸ¥è¯¢        await self.warm_up_cache()        async def download_seed_data(self, domain, language):        # å¹¶è¡Œä¸‹è½½å¤šä¸ªæ•°æ®æº        tasks = [            self.fetch_dataset(source, domain, language)            for source in self.seed_data_sources        ]                results = await asyncio.gather(*tasks, return_exceptions=True)                # åˆå¹¶å’Œå»é‡        combined_data = []        seen_queries = set()                for result in results:            if not isinstance(result, Exception):                for item in result:                    query_hash = hashlib.md5(item[&#x27;query&#x27;].encode()).hexdigest()                    if query_hash not in seen_queries:                        combined_data.append(item)                        seen_queries.add(query_hash)                return combined_data\n6. éƒ¨ç½²é…ç½®\nä¸€é”®éƒ¨ç½²è„šæœ¬\n#!/bin/bash# install.shset -eecho &quot;ğŸš€ QACache ä¸€é”®éƒ¨ç½²è„šæœ¬&quot;# æ£€æŸ¥ä¾èµ–check_dependencies() &#123;    echo &quot;æ£€æŸ¥ä¾èµ–...&quot;    command -v docker &gt;/dev/null 2&gt;&amp;1 || &#123; echo &quot;éœ€è¦å®‰è£… Docker&quot;; exit 1; &#125;    command -v python3 &gt;/dev/null 2&gt;&amp;1 || &#123; echo &quot;éœ€è¦å®‰è£… Python 3.8+&quot;; exit 1; &#125;&#125;# é€‰æ‹©éƒ¨ç½²æ¨¡å¼select_deployment_mode() &#123;    echo &quot;é€‰æ‹©éƒ¨ç½²æ¨¡å¼ï¼š&quot;    echo &quot;1. å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆè½»é‡çº§ï¼‰&quot;    echo &quot;2. CDNç½‘å…³æ¨¡å¼&quot;    echo &quot;3. æœåŠ¡å™¨æ¨¡å¼ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰&quot;    echo &quot;4. å…¨æ ˆæ¨¡å¼ï¼ˆåŒ…å«æ‰€æœ‰ç»„ä»¶ï¼‰&quot;        read -p &quot;è¯·è¾“å…¥é€‰æ‹© (1-4): &quot; mode        case $mode in        1) deploy_client ;;        2) deploy_cdn ;;        3) deploy_server ;;        4) deploy_full_stack ;;        *) echo &quot;æ— æ•ˆé€‰æ‹©&quot;; exit 1 ;;    esac&#125;# å®¢æˆ·ç«¯éƒ¨ç½²deploy_client() &#123;    echo &quot;éƒ¨ç½²å®¢æˆ·ç«¯æ¨¡å¼...&quot;        # ä¸‹è½½é…ç½®æ–‡ä»¶    curl -s https://raw.githubusercontent.com/your-repo/qacache/main/configs/client.yml &gt; client.yml        # å¯åŠ¨å®¹å™¨    docker run -d \\        --name qacache-client \\        -p 8080:8080 \\        -v $(pwd)/cache:/data \\        -v $(pwd)/client.yml:/config/client.yml \\        qacache/client:latest        echo &quot;âœ… å®¢æˆ·ç«¯éƒ¨ç½²å®Œæˆï¼è®¿é—® http://localhost:8080&quot;&#125;# ä¸»å‡½æ•°main() &#123;    check_dependencies    select_deployment_mode&#125;main &quot;$@&quot;\né…ç½®æ–‡ä»¶æ¨¡æ¿\n# config/client.ymlcache:  mode: client  storage:    type: sqlite    path: /data/cache.db    max_size: 1GB    vector_search:    engine: faiss    model: BAAI/bge-small-zh-v1.5    dimension: 384    index_type: flat    sync:    cdn_endpoint: https://cache-cdn.example.com    sync_interval: 3600  # 1å°æ—¶    batch_size: 100    performance:    recall_threshold: 0.7    max_memory_cache: 100MB    prefetch_enabled: true# config/server.ymlcache:  mode: server  storage:    type: elasticsearch    hosts: [&quot;localhost:9200&quot;]    index: llm_cache_v1    vector_search:    engine: elasticsearch    model: BAAI/bge-base-zh-v1.5    dimension: 768    performance:    precision_threshold: 0.9    max_cache_size: 100GB    shards: 3    replicas: 1\n7. ç›‘æ§å’Œè¿ç»´\næ€§èƒ½ç›‘æ§\nclass CacheMonitor:    def __init__(self):        self.metrics = &#123;            &#x27;hit_rate&#x27;: 0.0,            &#x27;avg_response_time&#x27;: 0.0,            &#x27;cache_size&#x27;: 0,            &#x27;sync_status&#x27;: &#x27;healthy&#x27;        &#125;        def collect_metrics(self):        # æ”¶é›†å„å±‚ç¼“å­˜çš„æ€§èƒ½æŒ‡æ ‡        pass        def alert_if_needed(self):        # æ€§èƒ½å¼‚å¸¸å‘Šè­¦        if self.metrics[&#x27;hit_rate&#x27;] &lt; 0.3:            self.send_alert(&quot;ç¼“å­˜å‘½ä¸­ç‡è¿‡ä½&quot;)                if self.metrics[&#x27;avg_response_time&#x27;] &gt; 5000:            self.send_alert(&quot;å“åº”æ—¶é—´è¿‡é•¿&quot;)\næ¶æ„ä¼˜åŠ¿\n\nç”¨æˆ·ä½“éªŒï¼šå®¢æˆ·ç«¯å¿«é€Ÿå“åº”ï¼Œå‡å°‘ç­‰å¾…æ—¶é—´\nèµ„æºä¼˜åŒ–ï¼šæŒ‰éœ€åˆ†é…è®¡ç®—èµ„æºï¼Œé¿å…æµªè´¹\nå¯æ‰©å±•æ€§ï¼šæ”¯æŒæ°´å¹³æ‰©å±•ï¼Œé€‚åº”ä¸åŒè§„æ¨¡éœ€æ±‚\næ•°æ®æ™ºèƒ½ï¼šé€šè¿‡CDNæ”¶é›†æ•°æ®ï¼Œä¼˜åŒ–ç¼“å­˜ç­–ç•¥\néƒ¨ç½²çµæ´»ï¼šæ”¯æŒå¤šç§éƒ¨ç½²æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯\n\næŠ€æœ¯è·¯çº¿å›¾\nç¬¬ä¸€é˜¶æ®µï¼šè½»é‡çº§å®¢æˆ·ç«¯\n\n[ ] å®ç°åŸºäº Faiss çš„å‘é‡æœç´¢\n[ ] å¼€å‘ FastAPI æœåŠ¡æ¥å£\n[ ] æ„å»º Docker é•œåƒ\n[ ] å®ç°ä¸€é”®éƒ¨ç½²è„šæœ¬\n\nç¬¬äºŒé˜¶æ®µï¼šCDNç½‘å…³\n\n[ ] è®¾è®¡æ•°æ®æ”¶é›†æ¥å£\n[ ] å®ç°æ™ºèƒ½åˆ†å‘ç®—æ³•\n[ ] æ„å»ºç”¨æˆ·è¡Œä¸ºåˆ†æç³»ç»Ÿ\n[ ] å¼€å‘é¢„æµ‹æ¨èåŠŸèƒ½\n\nç¬¬ä¸‰é˜¶æ®µï¼šæœåŠ¡å™¨ç«¯ä¼˜åŒ–\n\n[ ] ä¼˜åŒ– Elasticsearch é…ç½®\n[ ] å®ç°ç²¾å‡†åŒ¹é…ç®—æ³•\n[ ] æ„å»ºç¼“å­˜è´¨é‡è¯„ä¼°ç³»ç»Ÿ\n[ ] å¼€å‘è‡ªåŠ¨æ‰©ç¼©å®¹æœºåˆ¶\n\nç¬¬å››é˜¶æ®µï¼šå…¨æ ˆé›†æˆ\n\n[ ] å®ç°ä¸‰å±‚åŒæ­¥æœºåˆ¶\n[ ] æ„å»ºç»Ÿä¸€ç›‘æ§ç³»ç»Ÿ\n[ ] å¼€å‘è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·\n[ ] å®Œå–„æ–‡æ¡£å’Œæµ‹è¯•\n\nä¸‹ä¸€æ­¥è®¡åˆ’\n\nä¼˜å…ˆå®ç°è½»é‡çº§å®¢æˆ·ç«¯ç‰ˆæœ¬\næ„å»ºåŸºç¡€çš„å†·å¯åŠ¨æ•°æ®é›†\nå¼€å‘ç®€åŒ–çš„éƒ¨ç½²æµç¨‹\næ”¶é›†ç”¨æˆ·åé¦ˆå¹¶è¿­ä»£ä¼˜åŒ–\n\n"},{"title":"ğŸ†neovimä½¿ç”¨ç¬”è®°","url":"/2025/06/20/neovim%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/","content":"ğŸ†neovimä½¿ç”¨ç¬”è®°\nå…‰æ ‡ç§»åŠ¨\n\nåŸºç¡€ï¼š hã€jã€kã€lå¯¹åº”â†â†“â†‘â†’ï¼Œggã€Gè·³è½¬åˆ°æ–‡æ¡£å¤´ã€å°¾ã€‚\nwordè·³è½¬ï¼š wã€eè·³è½¬åˆ°åä¸€ä¸ªâ€œwordçš„å¼€å¤´ã€ç»“å°¾â€ï¼Œbè·³è½¬åˆ°å‰ä¸€ä¸ªâ€œwordçš„å¼€å¤´â€ã€‚ä¸å«é™¤_å¤–çš„æ ‡ç‚¹ç¬¦å·ã€‚\nWORDè·³è½¬ï¼šWã€Eè·³è½¬åˆ°åä¸€ä¸ªâ€œWORDçš„å¼€å¤´ã€ç»“å°¾â€ï¼ŒBè·³è½¬åˆ°å‰ä¸€ä¸ªâ€œWORDçš„å¼€å¤´â€ã€‚â€œWORDâ€ä»¥ç©ºæ ¼ä¸ºå•ä½ã€‚\næ³¨ï¼š\n\nâ€œwordâ€çš„æè¿°å¾ˆç¹çï¼Œä½†æ˜¯å«ä¹‰å¾ˆç®€å•ï¼Œæ•…ä¸å¤šèµ˜è¿°ã€‚\nä»¥ä¸Šå¿«æ·é”®éƒ½å¯ä»¥ä¸æ•°å­—æ­é…ä½¿ç”¨ã€‚\nåŸºç¡€ç§»åŠ¨ä¼šä»¥æ–¹å‘çš„å°½å¤´ç»ˆæ­¢ï¼Œå¦‚100lè‹¥è¶…è¿‡è¯¥è¡Œå‰©ä½™å­—ç¬¦æ•°åˆ™ä¼šç§»åŠ¨åˆ°è¯¥è¡Œæœ«å°¾ã€‚\nä½†æ˜¯ï¼Œwordè·³è½¬çš„è¯­ä¹‰æ˜¯â€œä¸Šä¸€ä¸ªã€ä¸‹ä¸€ä¸ªâ€ï¼Œåªè¦æ²¡æœ‰åˆ°æ–‡æ¡£å¤´å°¾ï¼Œå°±ä¸ä¼šç»ˆæ­¢è·³è½¬ã€‚\n\n\næ ¹æ®å­—ç¬¦è·³è½¬ï¼šfã€Fåˆ†åˆ«è¡¨ç¤ºåä¸€ä¸ªå­—ç¬¦ã€å‰ä¸€ä¸ªå­—ç¬¦ï¼ˆè¡Œå†…ï¼‰ã€‚ä¾‹å¦‚2fsè¡¨ç¤ºè·³è½¬åˆ°åé¢ç¬¬äºŒä¸ª&quot;s&quot;çš„ä½ç½®ã€‚\n\nå¤åˆ¶ã€ç²˜è´´ã€å‰ªåˆ‡\n\n\nåŸºç¡€ï¼š y &lt;motion&gt;å¤åˆ¶ï¼Œd &lt;motion&gt;åˆ é™¤ï¼Œc &lt;motion&gt;åˆ é™¤å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œpã€Påœ¨å…‰æ ‡çš„å³ä¾§ã€å·¦ä¾§ç²˜è´´ã€‚\n\n\n\n\næè¿°\næˆå‘˜\n\n\n\n\ninclusive motion\nä»…æœ‰é¡ºåºï¼ŒåŒ…å«è¾¹ç•Œ\ne\n\n\nexclusive motion\né¡ºåºï¼Œä»…ä¸åŒ…å«ç»“å°¾é€†åºï¼Œä»…ä¸åŒ…å«å¼€å¤´\nwã€lbã€h\n\n\n\n\næ–‡æ¡£å¤´å°¾ã€ä¸€è¡Œçš„å¤´å°¾éƒ½ä¼šæœ‰ç‰¹æ®Šï¼Œä»¥ä¸Šæè¿°ä»¥ç§»åŠ¨çš„â€œé¢„æœŸâ€æ•ˆæœä¸ºåŸºç¡€ï¼Œä¾‹å¦‚ï¼Œæ–‡æ¡£æœ€åä¸€ä¸ªwordä¸Šå†æŒ‰wåªä¼šç§»åŠ¨åˆ°è¯¥wordçš„æœ«å°¾ï¼Œä½†æ˜¯â€œé¢„æœŸâ€ä¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªçš„å¼€å¤´ã€‚æ•…ä¾ç„¶ä¼šåŒ…å«æ•´ä¸ªwordã€‚\nè¡¨æ ¼é‡Œçš„å¼€å¤´ã€ç»“å°¾æ˜¯ç§»åŠ¨æ–¹å‘çš„å¤´å’Œå°¾ï¼Œä¸æ˜¯é¡ºåºæ–¹å‘ã€‚\n\n\n\nè¡Œçº§æ“ä½œï¼š\n\n\n\nå‘½ä»¤\næ•ˆæœ\n\n\n\n\nyy\nå¤åˆ¶ä¸€æ•´è¡Œ\n\n\ndd\nåˆ é™¤ä¸€æ•´è¡Œ\n\n\ny j/k\nåŒ…å«å½“å‰è¡Œåˆ°ç›®æ ‡è¡Œ\n\n\nd j/k\nåŒç†\n\n\npã€P\nåœ¨ä¸‹ä¸€è¡Œã€ä¸Šä¸€è¡Œç²˜è´´\n\n\n\n\n\ntext objectæ“ä½œï¼š &lt;verb&gt; &lt;prep&gt; &lt;text object&gt;\n\n\nprep: innnerï¼Œaround\n\n\nå¸¸ç”¨æ–‡æœ¬å¯¹è±¡\n\n\n\næ–‡æœ¬å¯¹è±¡\nä½œç”¨èŒƒå›´\nç¤ºä¾‹å‘½ä»¤\næ•ˆæœ\n\n\n\n\niw / aw\nå•è¯ï¼ˆwordï¼‰\nciw\nä¿®æ”¹å½“å‰å•è¯ï¼ˆä¸å«ç©ºæ ¼ï¼‰\n\n\niW / aW\nå¤§å•è¯ï¼ˆWORDï¼Œå«æ ‡ç‚¹ï¼‰\ndiW\nåˆ é™¤å½“å‰å¤§å•è¯ï¼ˆå¦‚ â€œhello!â€ï¼‰\n\n\nis / as\nå¥å­ï¼ˆsentenceï¼‰\nvas\né€‰æ‹©å½“å‰å¥å­\n\n\nip / ap\næ®µè½ï¼ˆparagraphï¼‰\ndap\nåˆ é™¤å½“å‰æ®µè½ï¼ˆå«ç©ºè¡Œï¼‰\n\n\ni&quot; / a&quot;\nåŒå¼•å·å†…å†…å®¹\nyi&quot;\nå¤åˆ¶å¼•å·å†…æ–‡æœ¬ï¼ˆä¸å«å¼•å·ï¼‰\n\n\ni' / a'\nå•å¼•å·å†…å†…å®¹\nci'\nä¿®æ”¹å•å¼•å·å†…æ–‡æœ¬\n\n\ni` / a`\nåå¼•å·å†…å†…å®¹\ndi`\nåˆ é™¤åå¼•å·å†…ä»£ç \n\n\ni( / a(  (ib / ab)\nåœ†æ‹¬å·å†…å†…å®¹\nci(\nä¿®æ”¹æ‹¬å·å†…æ–‡æœ¬ï¼ˆä¸å«æ‹¬å·ï¼‰\n\n\ni[ / a[\næ–¹æ‹¬å·å†…å†…å®¹\nvi[\né€‰æ‹©æ–¹æ‹¬å·å†…æ–‡æœ¬\n\n\ni&#123; / a&#123;  (iB / aB)\nèŠ±æ‹¬å·å†…å†…å®¹\ndi&#123;\nåˆ é™¤ä»£ç å—å†…å®¹ï¼ˆä¸å« {}ï¼‰\n\n\nit / at\nXML/HTML æ ‡ç­¾å†…å®¹\ncit\nä¿®æ”¹æ ‡ç­¾å†…æ–‡æœ¬ï¼ˆå¦‚ &lt;div&gt;å†…å®¹&lt;/div&gt;ï¼‰\n\n\ni&lt; / a&lt;\nå°–æ‹¬å·å†…å†…å®¹ï¼ˆå¦‚æ³›å‹ï¼‰\ndi&lt;\nåˆ é™¤ &lt;T&gt; å†…éƒ¨å†…å®¹\n\n\n\n\n\n\n\nå…¶å®ƒå¸¸ç”¨å‘½ä»¤ã€å¿«æ·é”®\nå‘½ä»¤:e(dit)\næ‰“å¼€æ–‡ä»¶ï¼Œç›¸å¯¹è·¯å¾„ã€ç»å¯¹è·¯å¾„éƒ½å¯ä»¥ã€‚\nè‡ªåŠ¨è¡¥å…¨\n\n&lt;C-n&gt;ã€&lt;C-p&gt;ï¼šåœ¨æ’å…¥æ¨¡å¼ä¸‹ï¼Œå‘å‰ã€å‘åè‡ªåŠ¨è¡¥å…¨ã€‚\n\næ³¨é‡Š\n\nNormalæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨gccæ³¨é‡Š/å–æ¶ˆæ³¨é‡Šå½“å‰è¡Œï¼Œgcæ³¨é‡Š/å–æ¶ˆæ³¨é‡Šé€‰ä¸­åŒºåŸŸã€‚\n\næ‚¬æµ®æ–‡æ¡£\n\nNormalæ¨¡å¼ä¸‹ï¼Œå¿«æ·é”®Kå¯ä»¥æŸ¥çœ‹å…‰æ ‡ä¸‹çš„å‡½æ•°ã€å˜é‡ç­‰çš„æ–‡æ¡£ã€‚\næ‰“å¼€æ‚¬æµ®æ–‡æ¡£åï¼Œå¯ä»¥ä½¿ç”¨&lt;C-f&gt;å’Œ&lt;C-b&gt;ç¿»é¡µã€‚\n\næ’ç‰ˆ\n\n1./2./3.ç­‰æœ‰åºåˆ—è¡¨çš„ä¸‹å±‚åŸŸéœ€è¦ç¼©è¿›4ä¸ªç©ºæ ¼æˆ–è€…2ä¸ªTabã€‚\n*/-/+ç­‰æ— åºåˆ—è¡¨çš„ä¸‹å±‚åŸŸéœ€è¦ç¼©è¿›2ä¸ªç©ºæ ¼æˆ–è€…1ä¸ªTabã€‚\n\n","categories":["ç¬”è®°","neovim"],"tags":["ç¬”è®°","å·¥å…·","ç»ˆç«¯","ç¼–è¾‘å™¨","neovim"]},{"title":"ttsç¬”è®°","url":"/2025/07/16/tts%E7%AC%94%E8%AE%B0/","content":"index-tts\nå®˜æ–¹æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œè·Ÿç€æ¥å°±è¡Œã€‚å»ºè®®å·¥ä½œæµç¨‹ï¼š\n\næ ¹æ®è§†é¢‘åˆ†é•œå†™å¥½ç¨¿å­ï¼Œæ³¨æ„ç‰¹æ®Šçš„è¯æ ¹æ®å‘éŸ³æ”¹å†™ã€‚\nå°†ç¨¿å­æå–æˆä¸€æ•´ç¯‡çº¯æ–‡å­—ç¨¿ã€‚\nä½¿ç”¨index-ttsçš„webç«¯ï¼Œè½¬æ¢æ•´ç¯‡éŸ³é¢‘ã€‚\næ”¾åˆ°pré‡Œï¼šå¯¹é½â€”â€”åˆ‡â€”â€”å¯¹é½â€”â€”åˆ‡ï¼Œå³å¯ã€‚\n\n","categories":["å®è·µæŒ‡å—","æ¨¡å‹","tts"],"tags":["å·¥å…·","å®è·µ","è®°å½•","tts","æ¨¡å‹","é…éŸ³"]},{"title":"QACache-Micro å®ç°æ‰‹å†Œ","url":"/2025/07/18/qacache-micro/","content":"QACache-Micro å®ç°æ‰‹å†Œ\nç®€ä»‹\nQACache-Micro æ˜¯ QACache çš„è½»é‡çº§ç‰ˆæœ¬ï¼Œä¸“ä¸ºä¸ªäººç”¨æˆ·å’Œå°å›¢é˜Ÿè®¾è®¡ï¼Œæ—¨åœ¨æä¾›å¿«é€Ÿå“åº”å’Œé«˜å¬å›ç‡çš„ç¼“å­˜ä½“éªŒã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n\nè½»é‡åŒ–ï¼šå†…å­˜å ç”¨ 50MB-200MBï¼ˆæ ¹æ®æ¨¡å¼è‡ªé€‚åº”ï¼‰\nå¿«é€Ÿéƒ¨ç½²ï¼šä¸€é”®å¯åŠ¨ï¼Œæ— éœ€å¤æ‚é…ç½®ï¼Œæ”¯æŒ qacache -s start\né«˜å¬å›ç‡ï¼šåŒå¼•æ“æ¶æ„ï¼Œå…¼é¡¾ç²¾ç¡®åŒ¹é…å’Œè¯­ä¹‰æœç´¢\nç¦»çº¿æ”¯æŒï¼šå¯åœ¨æ— ç½‘ç»œç¯å¢ƒä¸‹å·¥ä½œ\nè‡ªé€‚åº”ï¼šæ ¹æ®è®¾å¤‡æ€§èƒ½è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æœç´¢å¼•æ“\n\næ ¸å¿ƒè®¾è®¡ç†å¿µ\nè‡ªé€‚åº”åŒå¼•æ“æ¶æ„\nè½»é‡æ¨¡å¼ï¼šå†…å­˜ç¼“å­˜ (L1) â†’ SQLite FTS5 (L2) â†’ SQLite æ•°æ®åº“ (L3)æ ‡å‡†æ¨¡å¼ï¼šå†…å­˜ç¼“å­˜ (L1) â†’ å‘é‡ç´¢å¼• (L2) â†’ SQLite æ•°æ®åº“ (L3)\næ¨¡å¼é€‰æ‹©ç­–ç•¥ï¼š\n\nè½»é‡æ¨¡å¼ï¼šå†…å­˜ &lt; 1GB æˆ–ç”¨æˆ·æŒ‡å®šï¼Œä½¿ç”¨ SQLite FTS5 è¿›è¡Œæ–‡æœ¬æœç´¢\næ ‡å‡†æ¨¡å¼ï¼šå†…å­˜ &gt;= 1GB ä¸”æ”¯æŒå‘é‡è®¡ç®—ï¼Œä½¿ç”¨ Faiss + BGE è¿›è¡Œè¯­ä¹‰æœç´¢\næ··åˆæ¨¡å¼ï¼šä¸¤ç§å¼•æ“å¹¶å­˜ï¼Œç»“æœèåˆæ’åº\n\nå“åº”ä¼˜å…ˆçº§\nè½»é‡æ¨¡å¼ï¼š\n\nå†…å­˜ç¼“å­˜ï¼šæ¯«ç§’çº§å“åº”ï¼Œå­˜å‚¨æœ€è¿‘è®¿é—®çš„çƒ­ç‚¹æ•°æ®\nFTS5 æœç´¢ï¼šåæ¯«ç§’çº§å“åº”ï¼ŒåŸºäºå…³é”®è¯å’ŒçŸ­è¯­åŒ¹é…\nLLM è°ƒç”¨ï¼šç§’çº§å“åº”ï¼Œä½œä¸ºæœ€åçš„å…œåº•æ–¹æ¡ˆ\n\næ ‡å‡†æ¨¡å¼ï¼š\n\nå†…å­˜ç¼“å­˜ï¼šæ¯«ç§’çº§å“åº”ï¼Œå­˜å‚¨æœ€è¿‘è®¿é—®çš„çƒ­ç‚¹æ•°æ®\nå‘é‡æœç´¢ï¼šåæ¯«ç§’çº§å“åº”ï¼ŒåŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦åŒ¹é…\nFTS5 å›é€€ï¼šç™¾æ¯«ç§’çº§å“åº”ï¼Œå‘é‡æœç´¢å¤±è´¥æ—¶çš„å¤‡é€‰æ–¹æ¡ˆ\nLLM è°ƒç”¨ï¼šç§’çº§å“åº”ï¼Œä½œä¸ºæœ€åçš„å…œåº•æ–¹æ¡ˆ\n\næŠ€æœ¯é€‰å‹\n\nWeb æ¡†æ¶ï¼šFastAPIï¼ˆé«˜æ€§èƒ½å¼‚æ­¥ï¼‰\nå­˜å‚¨å¼•æ“ï¼šSQLiteï¼ˆè½»é‡çº§æœ¬åœ°æ•°æ®åº“ï¼‰\næ–‡æœ¬æœç´¢ï¼šSQLite FTS5ï¼ˆå†…ç½®å…¨æ–‡æœç´¢ï¼Œæ”¯æŒä¸­æ–‡åˆ†è¯ï¼‰\nå‘é‡æœç´¢ï¼šFaissï¼ˆCPU ä¼˜åŒ–ï¼Œå¯é€‰ GPU åŠ é€Ÿï¼‰\nåµŒå…¥æ¨¡å‹ï¼šBGE-small-zh-v1.5ï¼ˆ384 ç»´ï¼Œå¿«é€Ÿæ¨ç†ï¼‰\néƒ¨ç½²æ–¹å¼ï¼šPython åŒ… + ç³»ç»ŸæœåŠ¡ï¼ˆçœŸæ­£çš„ä¸€é”®éƒ¨ç½²ï¼‰\n\næŠ€æœ¯å®ç°\n1. ç»Ÿä¸€æœç´¢å¼•æ“æ¥å£\nfrom abc import ABC, abstractmethodfrom enum import Enumclass SearchMode(Enum):    LITE = &quot;lite&quot;          # ä»… FTS5    STANDARD = &quot;standard&quot;  # å‘é‡æœç´¢ + FTS5 å›é€€    HYBRID = &quot;hybrid&quot;      # ç»“æœèåˆclass QACacheEngine:    def __init__(self, mode=&#x27;auto&#x27;, config_path=&#x27;qacache.yaml&#x27;):        self.config = self._load_config(config_path)        self.mode = self._determine_mode(mode)                # åˆå§‹åŒ–å­˜å‚¨å±‚        self.db = LocalCacheDB()                # åˆå§‹åŒ–æœç´¢å¼•æ“        self.fts_engine = FTS5Engine(self.db)        self.vector_engine = VectorEngine(self.db) if self.mode != SearchMode.LITE else None        def search(self, query: str, top_k: int = 5) -&gt; List[SearchResult]:        # 1. æ£€æŸ¥å†…å­˜ç¼“å­˜        if cached := self._check_memory_cache(query):            return cached                # 2. æ ¹æ®æ¨¡å¼é€‰æ‹©æœç´¢ç­–ç•¥        if self.mode == SearchMode.LITE:            results = self.fts_engine.search(query, top_k)        elif self.mode == SearchMode.STANDARD:            results = self._search_with_fallback(query, top_k)        else:  # HYBRID            results = self._hybrid_search(query, top_k)                # 3. æ›´æ–°ç¼“å­˜        self._update_cache(query, results)        return results\n2. SQLite æ•°æ®åº“ä¸ FTS5 é›†æˆ\nimport sqlite3class LocalCacheDB:    def __init__(self, db_path=&#x27;cache.db&#x27;):        self.connection = sqlite3.connect(db_path)        self._create_tables()        def _create_tables(self):        cursor = self.connection.cursor()                # ä¸»æ•°æ®è¡¨        cursor.execute(&#x27;&#x27;&#x27;            CREATE TABLE IF NOT EXISTS cache (                id INTEGER PRIMARY KEY AUTOINCREMENT,                query TEXT NOT NULL,                response TEXT NOT NULL,                metadata TEXT,                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,                access_count INTEGER DEFAULT 1            )        &#x27;&#x27;&#x27;)                # FTS5 è™šæ‹Ÿè¡¨        cursor.execute(&#x27;&#x27;&#x27;            CREATE VIRTUAL TABLE IF NOT EXISTS cache_fts USING fts5(                query, response,                 content=&#x27;cache&#x27;,                content_rowid=&#x27;id&#x27;,                tokenize=&#x27;unicode61 remove_diacritics 1&#x27;            )        &#x27;&#x27;&#x27;)                # è§¦å‘å™¨ï¼šè‡ªåŠ¨åŒæ­¥ FTS5 ç´¢å¼•        cursor.execute(&#x27;&#x27;&#x27;            CREATE TRIGGER IF NOT EXISTS cache_fts_insert AFTER INSERT ON cache BEGIN                INSERT INTO cache_fts(rowid, query, response)                 VALUES (new.id, new.query, new.response);            END        &#x27;&#x27;&#x27;)                self.connection.commit()class FTS5Engine:    def __init__(self, db: LocalCacheDB):        self.db = db        def search(self, query: str, top_k: int = 5) -&gt; List[SearchResult]:        cursor = self.db.connection.cursor()                # FTS5 æœç´¢ï¼Œæ”¯æŒç›¸å…³æ€§æ’åº        cursor.execute(&#x27;&#x27;&#x27;            SELECT c.id, c.query, c.response,                    rank AS relevance_score            FROM cache_fts             JOIN cache c ON cache_fts.rowid = c.id            WHERE cache_fts MATCH ?            ORDER BY rank            LIMIT ?        &#x27;&#x27;&#x27;, (query, top_k))                results = []        for row in cursor.fetchall():            results.append(SearchResult(                id=row[0],                query=row[1],                 response=row[2],                score=row[3],                source=&#x27;fts5&#x27;            ))                return results\n3. å‘é‡æœç´¢å¼•æ“ï¼ˆæ ‡å‡†æ¨¡å¼ï¼‰\nimport faissimport numpy as npfrom sentence_transformers import SentenceTransformerimport pickleimport osclass VectorEngine:    def __init__(self, db: LocalCacheDB, model_name=&#x27;BAAI/bge-small-zh-v1.5&#x27;, dimension=384):        self.db = db        self.dimension = dimension        self.model = SentenceTransformer(model_name)                # åˆå§‹åŒ– Faiss ç´¢å¼•        self.index = faiss.IndexFlatIP(dimension)        self.id_mapping = &#123;&#125;  # Faiss index -&gt; database id                # åŠ è½½å·²æœ‰ç´¢å¼•        self._load_index()        def _load_index(self):        &quot;&quot;&quot;ä»ç£ç›˜åŠ è½½å·²æœ‰çš„å‘é‡ç´¢å¼•&quot;&quot;&quot;        index_path = &#x27;vector_index.faiss&#x27;        mapping_path = &#x27;id_mapping.pkl&#x27;                if os.path.exists(index_path) and os.path.exists(mapping_path):            self.index = faiss.read_index(index_path)            with open(mapping_path, &#x27;rb&#x27;) as f:                self.id_mapping = pickle.load(f)        def _save_index(self):        &quot;&quot;&quot;ä¿å­˜å‘é‡ç´¢å¼•åˆ°ç£ç›˜&quot;&quot;&quot;        faiss.write_index(self.index, &#x27;vector_index.faiss&#x27;)        with open(&#x27;id_mapping.pkl&#x27;, &#x27;wb&#x27;) as f:            pickle.dump(self.id_mapping, f)        def add_to_index(self, cache_id: int, text: str):        &quot;&quot;&quot;æ·»åŠ æ–‡æœ¬åˆ°å‘é‡ç´¢å¼•&quot;&quot;&quot;        vector = self.model.encode([text])        vector = np.array(vector, dtype=np.float32)                # å½’ä¸€åŒ–å‘é‡ï¼ˆç”¨äºä½™å¼¦ç›¸ä¼¼åº¦ï¼‰        faiss.normalize_L2(vector)                # æ·»åŠ åˆ°ç´¢å¼•        faiss_id = self.index.ntotal        self.index.add(vector)        self.id_mapping[faiss_id] = cache_id                # å®šæœŸä¿å­˜ç´¢å¼•        if faiss_id % 100 == 0:            self._save_index()        def search(self, query: str, top_k: int = 5) -&gt; List[SearchResult]:        &quot;&quot;&quot;å‘é‡æœç´¢&quot;&quot;&quot;        if self.index.ntotal == 0:            return []                # ç¼–ç æŸ¥è¯¢        query_vector = self.model.encode([query])        query_vector = np.array(query_vector, dtype=np.float32)        faiss.normalize_L2(query_vector)                # æœç´¢        scores, indices = self.index.search(query_vector, min(top_k, self.index.ntotal))                # è·å–ç»“æœ        results = []        cursor = self.db.connection.cursor()                for score, faiss_idx in zip(scores[0], indices[0]):            if faiss_idx == -1:  # æ— æ•ˆç´¢å¼•                continue                            cache_id = self.id_mapping.get(faiss_idx)            if cache_id:                cursor.execute(                    &#x27;SELECT query, response FROM cache WHERE id = ?&#x27;,                     (cache_id,)                )                row = cursor.fetchone()                if row:                    results.append(SearchResult(                        id=cache_id,                        query=row[0],                        response=row[1],                         score=float(score),                        source=&#x27;vector&#x27;                    ))                return results\n4. ä¸€é”®éƒ¨ç½²ç³»ç»Ÿ\né…ç½®æ–‡ä»¶é©±åŠ¨\n# qacache.yamlengine:  mode: auto  # auto, lite, standard, hybrid  memory_limit: 200MB  auto_fallback: true  server:  host: 127.0.0.1  port: 8080  workers: 1  fts5:  enabled: true  tokenizer: unicode61  remove_diacritics: true  vector:  enabled: auto  # auto, true, false  model: BAAI/bge-small-zh-v1.5  dimension: 384  index_type: flat  # flat, ivf  cache:  memory_cache_size: 1000  disk_cache_path: ./cache  auto_cleanup: true  max_age_days: 30\nå‘½ä»¤è¡Œæ¥å£\n# qacache/cli.pyimport clickimport psutilimport osfrom .server import QACacheServerfrom .config import load_config@click.group()def cli():    &quot;&quot;&quot;QACache-Micro å‘½ä»¤è¡Œå·¥å…·&quot;&quot;&quot;    pass@cli.command()@click.option(&#x27;-s&#x27;, &#x27;--server&#x27;, is_flag=True, help=&#x27;æœåŠ¡å™¨æ¨¡å¼&#x27;)@click.option(&#x27;--host&#x27;, default=&#x27;127.0.0.1&#x27;, help=&#x27;ç»‘å®šåœ°å€&#x27;)@click.option(&#x27;--port&#x27;, default=8080, help=&#x27;ç«¯å£å·&#x27;)@click.option(&#x27;--mode&#x27;, type=click.Choice([&#x27;auto&#x27;, &#x27;lite&#x27;, &#x27;standard&#x27;]),               default=&#x27;auto&#x27;, help=&#x27;è¿è¡Œæ¨¡å¼&#x27;)def start(server, host, port, mode):    &quot;&quot;&quot;å¯åŠ¨ QACache-Micro æœåŠ¡&quot;&quot;&quot;    if server:        # æ£€æµ‹ç³»ç»Ÿèµ„æº        memory_gb = psutil.virtual_memory().total / (1024**3)                if mode == &#x27;auto&#x27;:            mode = &#x27;standard&#x27; if memory_gb &gt;= 1 else &#x27;lite&#x27;                    click.echo(f&quot;ğŸš€ å¯åŠ¨ QACache-Micro (&#123;mode&#125; æ¨¡å¼)&quot;)        click.echo(f&quot;ğŸ’¾ ç³»ç»Ÿå†…å­˜: &#123;memory_gb:.1f&#125;GB&quot;)                server = QACacheServer(mode=mode, host=host, port=port)        server.start()    else:        click.echo(&quot;è¯·ä½¿ç”¨ --server æˆ– -s å‚æ•°å¯åŠ¨æœåŠ¡&quot;)@cli.command()def stop():    &quot;&quot;&quot;åœæ­¢æœåŠ¡&quot;&quot;&quot;    # å®ç°æœåŠ¡åœæ­¢é€»è¾‘    click.echo(&quot;ğŸ›‘ QACache-Micro æœåŠ¡å·²åœæ­¢&quot;)@cli.command()def status():    &quot;&quot;&quot;æŸ¥çœ‹æœåŠ¡çŠ¶æ€&quot;&quot;&quot;    # å®ç°çŠ¶æ€æ£€æŸ¥é€»è¾‘    click.echo(&quot;ğŸ“Š QACache-Micro æœåŠ¡çŠ¶æ€&quot;)@cli.command()def config():    &quot;&quot;&quot;é…ç½®å‘å¯¼&quot;&quot;&quot;    click.echo(&quot;âš™ï¸  QACache-Micro é…ç½®å‘å¯¼&quot;)    # å®ç°äº¤äº’å¼é…ç½®if __name__ == &#x27;__main__&#x27;:    cli()\nå®‰è£…è„šæœ¬\n#!/bin/bash# install.shset -eecho &quot;ğŸ”§ å®‰è£… QACache-Micro...&quot;# æ£€æŸ¥ Python ç‰ˆæœ¬if ! command -v python3 &amp;&gt; /dev/null; then    echo &quot;âŒ éœ€è¦ Python 3.8+&quot;    exit 1fi# å®‰è£…åŸºç¡€ç‰ˆæœ¬echo &quot;ğŸ“¦ å®‰è£…åŸºç¡€åŒ…...&quot;pip install qacache-micro# æ£€æŸ¥ç³»ç»Ÿèµ„æºMEMORY_GB=$(python3 -c &quot;import psutil; print(psutil.virtual_memory().total / (1024**3))&quot;)if (( $(echo &quot;$MEMORY_GB &gt;= 1&quot; | bc -l) )); then    echo &quot;ğŸ’¾ æ£€æµ‹åˆ°å……è¶³å†…å­˜ ($&#123;MEMORY_GB&#125;GB)ï¼Œå®‰è£…å®Œæ•´ç‰ˆæœ¬...&quot;    pip install qacache-micro[full]else    echo &quot;ğŸ’¾ å†…å­˜æœ‰é™ ($&#123;MEMORY_GB&#125;GB)ï¼Œå®‰è£…è½»é‡ç‰ˆæœ¬&quot;fiecho &quot;âœ… å®‰è£…å®Œæˆï¼&quot;echo &quot;ğŸš€ ä½¿ç”¨ &#x27;qacache -s start&#x27; å¯åŠ¨æœåŠ¡&quot;\néƒ¨ç½²æŒ‡å—\næ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰\n# ä¸‹è½½å®‰è£…è„šæœ¬curl -fsSL https://get.qacache.com/install.sh | bash# æˆ–è€…ä½¿ç”¨ pip å®‰è£…pip install qacache-micro# å¯åŠ¨æœåŠ¡qacache -s start\næ–¹å¼äºŒï¼šä»æºç å®‰è£…\n# å…‹éš†ä»“åº“git clone https://github.com/example/qacache-microcd qacache-micro# å®‰è£…ä¾èµ–pip install -e .# å¯åŠ¨æœåŠ¡qacache -s start\næ–¹å¼ä¸‰ï¼šå•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åº\n\n\nä¸‹è½½å¯¹åº”å¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼š\n\nWindows: qacache-micro-windows.exe\nmacOS: qacache-micro-macos\nLinux: qacache-micro-linux\n\n\n\nè¿è¡Œç¨‹åºï¼š\n./qacache-micro-linux -s start\n\n\néªŒè¯å®‰è£…\nè®¿é—® http://localhost:8080 æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼Œæˆ–ä½¿ç”¨å‘½ä»¤ï¼š\nqacache status\næ€§èƒ½ä¼˜åŒ–ç­–ç•¥\nè‡ªé€‚åº”ä¼˜åŒ–\n\nåŠ¨æ€æ¨¡å¼åˆ‡æ¢ï¼šæ ¹æ®æŸ¥è¯¢æ¨¡å¼å’Œç³»ç»Ÿè´Ÿè½½è‡ªåŠ¨åœ¨è½»é‡/æ ‡å‡†æ¨¡å¼é—´åˆ‡æ¢\næ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼šåŸºäºè®¿é—®é¢‘ç‡å’ŒæŸ¥è¯¢ç›¸ä¼¼åº¦ä¼˜åŒ–å†…å­˜ç¼“å­˜\næ¸è¿›å¼ç´¢å¼•ï¼šåå°å¼‚æ­¥æ„å»ºå‘é‡ç´¢å¼•ï¼Œä¸å½±å“æœåŠ¡å¯åŠ¨é€Ÿåº¦\n\nèµ„æºç®¡ç†\n\nå†…å­˜ç›‘æ§ï¼šå®æ—¶ç›‘æ§å†…å­˜ä½¿ç”¨ï¼Œè¶…é™æ—¶è‡ªåŠ¨é™çº§åˆ°è½»é‡æ¨¡å¼\nç£ç›˜æ¸…ç†ï¼šå®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜å’Œæ— æ•ˆç´¢å¼•\næ¨¡å‹æ‡’åŠ è½½ï¼šæŒ‰éœ€åŠ è½½åµŒå…¥æ¨¡å‹ï¼Œå‡å°‘å¯åŠ¨æ—¶é—´\n\næŸ¥è¯¢ä¼˜åŒ–\n\nç»“æœèåˆï¼šFTS5 å’Œå‘é‡æœç´¢ç»“æœçš„æ™ºèƒ½èåˆæ’åº\næŸ¥è¯¢é‡å†™ï¼šè‡ªåŠ¨ä¼˜åŒ–ç”¨æˆ·æŸ¥è¯¢ï¼Œæé«˜åŒ¹é…å‡†ç¡®ç‡\nç¼“å­˜é¢„çƒ­ï¼šæ ¹æ®å†å²æŸ¥è¯¢æ¨¡å¼é¢„åŠ è½½çƒ­ç‚¹æ•°æ®\n\nå‘å±•è·¯çº¿å›¾\nçŸ­æœŸç›®æ ‡ï¼ˆ1-2ä¸ªæœˆï¼‰\n\nâœ… å®ç°åŒå¼•æ“æ¶æ„ï¼ˆFTS5 + Faissï¼‰\nâœ… å®Œæˆä¸€é”®éƒ¨ç½²ç³»ç»Ÿ\nğŸ”„ æ·»åŠ  Web ç®¡ç†ç•Œé¢\nğŸ”„ å®ç°æŸ¥è¯¢ç»“æœèåˆç®—æ³•\n\nä¸­æœŸç›®æ ‡ï¼ˆ3-6ä¸ªæœˆï¼‰\n\nğŸ“‹ æ”¯æŒå¤šç§åµŒå…¥æ¨¡å‹ï¼ˆBGEã€M3Eã€text2vecï¼‰\nğŸ“‹ å®ç°åˆ†å¸ƒå¼éƒ¨ç½²æ”¯æŒ\nğŸ“‹ æ·»åŠ  RESTful API å’Œ SDK\nğŸ“‹ é›†æˆæ›´å¤šæ•°æ®æºï¼ˆæ–‡æ¡£ã€ç½‘é¡µã€æ•°æ®åº“ï¼‰\n\né•¿æœŸç›®æ ‡ï¼ˆ6ä¸ªæœˆ+ï¼‰\n\nğŸ“‹ å®ç°ç”¨æˆ·è¡Œä¸ºåˆ†æå’Œä¸ªæ€§åŒ–æ¨è\nğŸ“‹ æ”¯æŒå¤šè¯­è¨€å’Œè·¨è¯­è¨€æœç´¢\nğŸ“‹ é›†æˆå¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ™ºèƒ½é—®ç­”\nğŸ“‹ å¼€å‘ä¼ä¸šç‰ˆåŠŸèƒ½ï¼ˆæƒé™ç®¡ç†ã€å®¡è®¡æ—¥å¿—ï¼‰\n\næŠ€æœ¯æ¼”è¿›\n\næ¨¡å‹æ›´æ–°ï¼šæ”¯æŒæ¨¡å‹çƒ­æ›´æ–°ï¼Œæ— éœ€é‡å¯æœåŠ¡\nç¡¬ä»¶é€‚é…ï¼šæ”¯æŒ GPU åŠ é€Ÿã€ARM æ¶æ„\näº‘åŸç”Ÿï¼šæ”¯æŒ Kubernetes éƒ¨ç½²å’Œè‡ªåŠ¨æ‰©ç¼©å®¹\nç”Ÿæ€é›†æˆï¼šä¸ä¸»æµå¼€å‘æ¡†æ¶å’Œå·¥å…·é“¾é›†æˆ\n\n"},{"title":"ã€Šéƒ‘ä¼¯å…‹æ®µäºé„¢ã€‹ç­†è¨˜","url":"/2025/06/19/%E3%80%8A%E9%83%91%E4%BC%AF%E5%85%8B%E6%AE%B5%E4%BA%8E%E9%84%A2%E3%80%8B%E7%AC%94%E8%AE%B0/","content":"å­—ã€è©ã€è¡¨è¾¾è¨˜éŒ„\n\nå”ï¼Œç”ŸèŠå…¬åŠå…±å”æ®µã€‚å¤äººå‘½å­—å¸¸ä»¥ä¼¯ï¼ˆå­Ÿï¼‰ã€ä»²ã€å”ã€å­£è¡¨ç¤ºé•·å¹¼æ¬¡åºï¼Œä½†æ˜¯æœƒçµåˆå…·é«”æƒ…æ³ä½¿ç”¨ã€‚åœ¨é€™è£ï¼Œé„­èŠå…¬å…„å¼Ÿåªæœ‰å…©äººï¼Œå› æ­¤å¼Ÿå¼Ÿç¨±ç‚ºâ€œå”â€ã€‚è€Œâ€œå­£â€å‰‡ç”¨æ–¼å…„å¼Ÿå¤šäººçš„æƒ…æ³ã€‚\näºŸï¼ŒäºŸè«‹æ–¼æ­¦å…¬ã€‚è®€åšqÃ¬æ˜¯ï¼Œæ„å±¢æ¬¡ã€‚ä¹Ÿè®€åšjÃ­ï¼Œæ„æ€¥å¿™ã€‚\néƒ½ï¼Œå¤§åŸã€‚æ¼¢ä»¥å¾Œï¼Œâ€œéƒ½â€æ‰æŒ‡åœ‹éƒ½ã€‚è£œå……ï¼š äº¬ï¼Œå¤§ã€‚å…ˆç§¦æ™‚ï¼Œâ€œäº¬å¸«â€é€£ç”¨æ‰æŒ‡åœ‹éƒ½ã€‚\nè‹¥/å¥ˆ/å¦‚ + ä¹‹/è‹¥ + ä½•ï¼Œå°ä»–æ€éº¼è¾¦ã€‚èªæ³•ä¸Šé€™æ˜¯åŠ¨è¯æ€§å‡å›ºç»“æ„ï¼Œæ˜¯å…ˆç§¦ç‰¹æœ‰çš„ç–‘é—®çŸ­è¯­ï¼Œä¸å¯æ‹†è§£ã€‚\næ–ƒï¼Œå€’ä¸‹å»ã€‚å¤šè¡Œä¸ç¾©ï¼Œå¿…è‡ªæ–ƒã€‚\nå§‘ï¼Œæš«ä¸”ã€‚æœ¬æ„æ˜¯çˆ¶è¦ªçš„æ¯è¦ªã€å§å¦¹ï¼Œæˆ–è€…ä¸ˆå¤«çš„å§å¦¹ï¼Œå¥¹å€‘å¾€å¾€å±•ç¾å‡ºç·©å’Œã€å®‰æ’«ã€é·å°±ã€å¦¥å”çš„å§¿æ…‹ï¼Œå› æ­¤â€œå§‘â€æ…¢æ…¢å¼•ç”³ç‚ºä¸€ç¨®è™•ç†äº‹æƒ…çš„æ…‹åº¦ï¼Œé€™å·²ç¶“æ¯”è¼ƒæ¥è¿‘â€œæš«ä¸”â€çš„å«ç¾©ã€‚\næš±ï¼Œä¸ç¾©ä¸æš±ã€‚éŸ³nÃ¬ï¼ŒåŒâ€œæ˜µâ€ï¼Œè¦ªè¿‘ã€‚é€™å¥è©±çš„æ„æ€æ˜¯ï¼Œæ®µæ—¢ç„¶ä¸ç¾©ï¼Œå°±ä¸èƒ½ç± ä½æ°‘å¿ƒã€‚\nå…·ï¼Œé½Šå‚™ã€å®Œæ•´ã€‚å…·çœ¼ï¼Œæ„ç‚ºçœ¼åŠ›å¥½ï¼Œè¦‹è­˜é«˜ï¼›å…·ç»ï¼Œæ„ç‚ºçœ¾äººç»ä»°ã€‚è€Œå…·è‡£å»æ˜¯æŒ‡å‚™ä½å……æ•¸ï¼Œä¸ç¨±è·çš„è‡£å­ã€‚å…·è‡£å¯ä»¥ç†è§£ç‚ºè¡¨é¢ä¸Šå®Œç¾çš„è‡£å­ï¼Œå› ç‚ºçœŸæ­£çš„â€œå…·è‡£â€ä¸å¯èƒ½å­˜åœ¨ï¼Œå®ƒå°ä¸€å€‹è‡£å­çš„è¦æ±‚æ˜¯æ–¹æ–¹é¢é¢ï¼Œç”šè‡³æ˜¯çŸ›ç›¾çš„ã€‚å§‘æ­¤èªªä¹ƒè«·åˆºã€‚è€Œâ€œå…·çœ¼â€ã€â€œå…·ç»â€ç­‰æ˜¯å¯ä»¥å¯¦ç¾çš„ã€‚\næ–½ï¼Œï¼ˆæ½è€ƒå”ï¼‰æ„›å…¶æ¯ï¼Œæ–½åŠèŠå…¬ã€‚è®€ä½œyÃ¬ï¼Œå»¶ä¼¸ï¼Œå»¶çºŒã€‚\n\næ–‡ç« ç´°ç¯€\n\n\n\nï¼ˆå§œæ°ï¼‰è«‹äº¬ï¼Œï¼ˆèŠå…¬ï¼‰ä½¿ï¼ˆå…±å”æ®µï¼‰å±…ä¹‹ï¼Œï¼ˆäººå€‘ï¼‰è¬‚ä¹‹äº¬åŸå¤§ï¼ˆtÃ iï¼‰å”ã€‚\n\næœé¢„ã€Šæ˜¥ç§‹å·¦ä¼ æ³¨ã€‹ä¸­èªªï¼šâ€œå¤§å”ï¼Œè¨€å¯µä¹‹é€¾åˆ¶ï¼Œéç¦®ä¹Ÿã€‚å¤§éŸ³æ³°ã€‚â€\n\n\n\næ—¢è€Œå¤§å”å‘½è¥¿é„™åŒ—é„™è²³æ–¼å·±ã€‚\n\nè²³ï¼Œå…©å±¬ã€‚é€™å¥è©±çš„æ„æ€æ˜¯ï¼Œä¸ä¹…ä¹‹å¾Œï¼Œå…±å”æ®µå‘½ä»¤è¥¿éƒ¨ã€åŒ—éƒ¨é‚Šé‚‘çš„å®ˆè‡£æ•ˆå¿ èŠå…¬çš„åŒæ™‚æ•ˆå¿ è‡ªå·±ã€‚\n\n\n\nç„¡ç”Ÿæ°‘å¿ƒã€‚\n\né€™å¥è©±çš„æ„æ€æ˜¯ï¼Œä¸è¦æ˜¯æ°‘çœ¾ç”¢ç”ŸäºŒå¿ƒã€‚åœ¨å¤æ–‡èªå¢ƒè£ï¼Œâ€œæ°‘å¿ƒâ€æœ¬å°±å…·æœ‰ä¸€å¿ƒçš„é è¨­ï¼Œå°±åƒæ˜¯å€‹å¸¸è­˜ï¼Œé€™æ˜¯å°çµ±æ²»è€…ä¸€é«”çš„å¿ƒã€‚é€™å€‹æ™‚å€™å¦‚æœèªªç”Ÿæ°‘å¿ƒï¼Œé‚£ä¾¿åœ¨åŸæœ¬çš„å¿ƒä¹‹å¤–å¦ä¸€å€‹å¿ƒï¼Œä¹Ÿå³äºŒå¿ƒã€‚\n\n\næ„Ÿæ‚Ÿ\nèªªã€Šæ˜¥ç§‹ã€‹å¾®è¨€å¤§ç¾©ï¼Œè€Œã€Šå·¦å‚³ã€‹ç‚ºå…¶è¨»è§£ï¼Œå¯æˆ‘è®€äº†æœ¬ç¯‡å¾Œä¾ç„¶ç„¡æ³•ç†è§£æ‰€è¬‚â€œå¤§ç¾©â€ã€‚\næ–‡ç« é–‹é ­å°±è®“äººçœ‰é ­ç·Šçšºâ€”â€”å§œæ°å› ç‚ºç”ŸèŠå…¬æ™‚é›£ç”¢ï¼Œæ‰€ä»¥è¨å­èŠå…¬ã€‚é€™è®“æˆ‘æƒ³èµ·äº†å¸¶å°å­©çš„å ´æ™¯ï¼Œå°å­©å­é ‘çš®æ‘”äº†ä¸€è·¤ï¼Œå¾ˆå¤šå¤§äººæœ‰æ„ç„¡æ„åœ°æœƒå¼•å°å°å­©å­æŠŠæ‘”è·¤çš„è²¬ä»»æ­¸å’æ–¼åœ°ä¸æ˜¯å¥½åœ°ã€‚å§‘å¸¸å¸¸çœ‹åˆ°å¤§äººæŠ±è‘—å°å­©ï¼Œé‚Šæ‹æ‰“å„ç¨®äº‹ç‰©ï¼Œé‚Šèªªï¼šâ€œå£xxï¼Œæƒ¹æˆ‘å®¶å¯¶å“­äº†â€ã€‚é€™å€‹æ³•å­ä¼¼ä¹çœŸæœ‰æ•ˆã€‚å§œæ°å°±æ˜¯é€™éº½å€‹å°å­©å­ï¼Œå¯é›£ç”¢æ€ªä¸å¾—åœ°ï¼Œæ›´æ€ªä¸å¾—è‡ªå·±ï¼Œæ‰€ä»¥æ˜¯èŠå…¬çš„ééŒ¯ã€‚å¾ˆå¤šç¾ä»£äººä¹Ÿæœƒæœ‰é¡ä¼¼çš„å¿ƒç†ï¼Œ\nå†å¾Œä¾†æ®µèˆ‡å§œæ°è¬€åè¢«å¹³å®šï¼ŒèŠå…¬èˆ‡ä¹‹â€œéš¨è€Œç›¸è¦‹â€ï¼Œè³¦è©©ä½œæ¨‚ï¼Œæ¯å­å¦‚åˆã€‚æ…‹åº¦è½‰è®Šä¹‹å¿«è®“äººé›£ä»¥ç†è§£ã€‚ç–¼æ„›çš„å°å…’å­è¢«è¨å­çš„å¤§å…’å­æ‰“æ•—äº†ï¼Œå¥¹å¤§å…’å­æ²’æœ‰æ·±ä»‡å¤§æ¨ï¼›åˆæˆ–è€…ï¼Œåæ„›å°å…’å­ï¼Œæ„åœ–æ¨ç¿»å¤§å…’å­ï¼Œå¥¹ä¹Ÿä¸è¦ºå¾—å°å¤§å…’å­æœ‰æ„§ã€‚é€™ç¨®æ™‚å€™ï¼Œå¥¹æ²’æœ‰é¸æ“‡ç¡¬å‰›åˆ°åº•ï¼Œä¹Ÿæ²’æœ‰é¸æ“‡çœŸèª é“æ­‰ã€‚è€Œæ˜¯é¸æ“‡æŠŠéå»åŸ‹è‘¬ã€‚é€™æ¯è¦ªåšå¾—ä¹Ÿå¤ªå®¹æ˜“äº†ã€‚é€™å°±æ˜¯æ­·å²ä¸Šçš„â€œæ™®é€šäººâ€ï¼Œå°±åƒæˆ‘å€‘èº«é‚Šå¸¸è¦‹çš„ä¸€å€‹æ™®é€šå¥³ç”Ÿï¼Œæ²’æœ‰å°è‡ªå·±äººæ ¼çš„è¦æ±‚ã€åæ€ï¼Œç¼ºä¹å°ä»–äººçš„é«”è«’ã€å…±æƒ…ï¼Œè€Œä¸”ä¸è¦è‡‰ã€‚\nå°æœ¬æ–‡ä¸»æ—¨çš„ä¸»æµç†è§£æ˜¯æ­éœ²èŠå…¬çš„å½è£èˆ‡å¥¸è©ã€‚æˆ‘è¦ºå¾—èŠå…¬ä¹‹æ‰€ä»¥è¢«èªç‚ºæƒ¡ï¼Œæ˜¯å› ç‚ºä»–ç™¼ç¾äº†é“å¾·çš„æ¼æ´ï¼Œç¾åœ¨å«â€œç«™åœ¨é“å¾·çš„é«˜åœ°â€ã€‚é€™å ´äº‹ä»¶è£ï¼ŒèŠå…¬æ˜¯è¢«ç½®æ–¼å±æ©Ÿçš„ï¼Œå›äº‚çš„ã€ä¸å…¬çš„æ˜¯æ®µå’Œå§œæ°ï¼Œæ­£å› å¦‚æ­¤èŠå…¬åˆ©ç”¨äº†ä»–ä¹‹æƒ¡ï¼Œå°‡è‡ªå·±å¡‘é€ æˆå—å®³è€…ï¼Œä½†æ˜¯å¯¦éš›ä¸Šä»–æŒæ¡äº†ä¸€åˆ‡ã€‚ç„¡ç–‘ï¼ŒèŠå…¬æ˜¯æ¬Šè¬€çš„é«˜æ‰‹ï¼Œä½†æ˜¯ä»–æ˜¯å¦æ˜¯æƒ¡ï¼Ÿæˆ‘èªç‚ºä¸æ˜¯ã€‚ä»–çš„åšæ³•æ˜¯ç‚ºäº†è§£æ±ºå•é¡Œçš„åŒæ™‚ç²å¾—å¥½åè²ï¼Œé‚£ç‚ºä»€éº¼ä¸åšé€™äº›è™›å½çš„é‹ªå¢Šå°±ç„¡æ³•ç²å¾—å¥½åè²å‘¢ï¼ŸèŠå…¬ç”«ä¸€å³ä½ï¼Œå§œæ°å’Œæ®µå°±å°å‹•ä½œä¸æ–·ï¼Œé€™æ™‚ä¸‹æ‰‹ï¼Œå¯èƒ½æœƒè¢«èªªå¤šç–‘çŒœå¿Œã€å¿ƒèƒ¸ç‹¹å°äº‘äº‘ã€‚æ®µæ—¥ç›Šè†¨è„¹æ™‚ä¸‹æ‰‹ï¼Œç½ªè­‰ä¸è¶³é›£ä»¥æ ¹é™¤ï¼Œè‹¥å®ƒæ—¥å†èµ·ç¦æ‚£ï¼Œå¯èƒ½æœƒè¢«è©•åƒ¹ç‚ºå„ªæŸ”å¯¡æ–·ã€‚ä»¥ä¸Šæ˜¯æˆ‘çš„çŒœæ¸¬ï¼Œä½†æ˜¯å¯ä»¥æƒ³åˆ°æƒ³è¦åœ¨æ‰€æœ‰äººå˜´è£éƒ½æ˜¯å¥½åè²æ˜¯å¾ˆé›£çš„äº‹æƒ…ï¼Œä¸åƒ…å¾—é å€‹äººå“å¾·ï¼Œé‚„å¾—çœ‹æ°£é‹ï¼Œå¾ˆå¤šäº‹æƒ…ç™¼ç”Ÿä¹‹å‰éƒ½ç„¡æ³•æº–ç¢ºé æ¸¬ã€‚å§œæ°å¯ä»¥é–‹åŸé–€åšå…§æ‡‰å°±èªªæ˜äº†å•é¡Œï¼Œå§œæ°çµ•ä¸æ˜¯çœæ²¹çš„ç‡ˆï¼Œå¥¹ä¸æ˜¯æœ‰å¾·ä¹‹äººï¼Œä½†æœ‰ä¸€å®šæ¬Šå‹¢ã€‚èŠå…¬çš„è™•å¢ƒä¹Ÿæœ‰ä¸€å®šçš„å±éšªæ€§ã€‚æ‰€ä»¥èŠå…¬é¸æ“‡å…ˆéš±å¿ï¼Œä¸€æ–¹é¢å¯ä»¥ä¸€æ“Šå¿…æ®ºï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥éº»ç—ºå°æ‰‹é™ä½è‡ªå·±çš„é¢¨éšªï¼ŒåŒæ™‚ä¹Ÿå¯ä»¥å„˜å¯èƒ½ç²å¾—å¥½åè²ã€‚ç‚ºäº†ä¿å…¨è‡ªå·±ä½¿ç”¨è¨ˆè¬€ï¼Œç„¡å¯åšéã€‚è‡³æ–¼ä»–æœ‰æ²’æœ‰ç‚ºäº†å¥½åè²å½è£è‡ªå·±ï¼Œèª°ä¹Ÿä¸çŸ¥é“ï¼Œæ³ä¸”æ˜¯èˆ‡ä¸æ˜¯ä¹Ÿä¸¦éé‡è¦çš„äº‹æƒ…ã€‚å€˜è‹¥èŠå…¬ç‚ºäº†åè²é¸æ“‡äº†æ›´å±éšªæ›´ä¸ç†æ™ºçš„æ–¹æ³•ï¼Œé‚£æ‰æ˜¯çœŸæ­£çš„è™›å½ã€‚\n","categories":["å¤ä»£æ±‰è¯­","ç‹åŠ›ã€Šå¤ä»£æ±‰è¯­ã€‹ç¬”è®°"],"tags":["å¤ä»£æ±‰è¯­"]},{"title":"ğŸ™x-cmdå®è·µè®°å½•","url":"/2025/06/16/x-cmd%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/","content":"ğŸ™x-cmdå®è·µè®°å½•\nå®‰è£…\nåœ¨powershellé‡Œå®‰è£…ï¼Œå‚è€ƒhttps://cn.x-cmd.com/start/powershellï¼Œåªéœ€è¦è¿è¡Œä¸€æ¡æŒ‡ä»¤\n[System.Text.Encoding]::GetEncoding(&quot;utf-8&quot;).GetString($(Invoke-WebRequest -Uri &quot;https://get.x-cmd.com/x-cmd.ps1&quot;).RawContentStream.ToArray()) | Invoke-Expression\næ›´æ”¹ä¸»é¢˜\n\nx starshipå’Œx ohmyposhæ˜¯ä¸¤ä¸ªä¸»é¢˜æ¨¡å—ï¼Œç›´æ¥è¿è¡Œå³å¯æ‰“å¼€TUIäº¤äº’é€‰æ‹©ã€‚\néœ€è¦å®‰è£…Nerd Fontsï¼Œå¦åˆ™å›¾æ ‡æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚æ¨èé€‰æ‹©ï¼ˆgemini 2.5 proï¼‰ï¼Œ\n\nFiraCode Nerd Font (éå¸¸æµè¡Œï¼Œæ”¯æŒç¼–ç¨‹è¿å­—)\nJetBrains Mono Nerd Font (JetBrains IDE çš„é»˜è®¤å­—ä½“ï¼Œéå¸¸æ¸…æ™°)\nMesloLGS NF (Powerlevel10k ä¸»é¢˜å®˜æ–¹æ¨èï¼Œå…¼å®¹æ€§æä½³)\n\n\næ•ˆæœï¼Œ\n\nä½¿ç”¨å¤§æ¨¡å‹ï¼Œä»¥Deepseekä¸ºä¾‹\n\nx deepseek initè¿›è¡Œäº¤äº’å¼é…ç½®ï¼Œåªéœ€è¦æä¾›keyã€‚\na:dså’Œa:dsr1ä½¿ç”¨\n\nå¯¹è¯a:ds &quot;ç”¨æˆ·æç¤ºè¯&quot;\na:ds -f æœ¬åœ°æ–‡ä»¶ &quot;ç”¨æˆ·æç¤ºè¯&quot;\n\n\na:ds -f æœ¬åœ°æ–‡ä»¶ &quot;ç”¨æˆ·æç¤ºè¯&quot; &gt;&gt; ds.md 2&gt;&amp;1å¯ä»¥è¾“å‡ºåˆ°æ–‡æ¡£é‡Œï¼Œä½†æ˜¯ä¸­æ–‡ä¼šä¹±ç \n\nåŸå› ï¼š PowerShell 7 æŸ¥çœ‹ [System.Console]::OutputEncoding çš„è®¾ç½®ï¼Œå‘ç°æ˜¯ GBKã€‚äºæ˜¯ï¼Œå®ƒç”¨ GBK çš„è§„åˆ™å»â€œé”™è¯¯åœ°â€è§£ç äº†è¿™ä¸² UTF-8 çš„å­—èŠ‚æµï¼Œåœ¨å†…å­˜ä¸­å¾—åˆ°äº†ä¸€å †ä¹±ç å­—ç¬¦ä¸²ã€‚\nè§£å†³æ–¹æ³•ï¼š\n\nä¿®æ”¹powershellé…ç½®æ–‡ä»¶notepad $PROFILEå¦‚æœä¸å­˜åœ¨ï¼Œæ–°å»ºNew-Item -Path $PROFILE -ItemType File -Force\nåœ¨æœ€åä¸€è¡Œæ·»åŠ [System.Console]::OutputEncoding = [System.Text.Encoding]::UTF8\nä½¿ç”¨ç®¡é“a:ds -f æœ¬åœ°æ–‡ä»¶ &quot;ç”¨æˆ·æç¤ºè¯&quot; 2&gt;&amp;1 | Out-File -FilePath ds.md -Encoding utf8(å°šæœªéªŒè¯ï¼Œä¸è¿‡åŸç†å¯ä¿¡)\n\n\n\n\n\n","categories":["å®è·µæŒ‡å—","å¤§ä¸œè¥¿","x-cmd"],"tags":["å·¥å…·","ç»ˆç«¯","å®è·µ","è®°å½•","x-cmd"]},{"title":"ã€Šé½æ¡“å…¬ä¼æ¥šã€‹ç¬”è®°","url":"/2025/06/19/%E3%80%8A%E9%BD%90%E6%A1%93%E5%85%AC%E4%BC%90%E6%A5%9A%E3%80%8B%E7%AC%94%E8%AE%B0/","content":"å­—ã€è©ã€è¡¨è¾¾è¨˜éŒ„\n\nå¤¾è¼”ï¼Œè¼”ä½ã€‚\n\næ–‡ç« ç´°ç¯€\n\n\n\nå”¯æ˜¯é¢¨é¦¬ç‰›ä¸ç›¸åŠä¹Ÿ\n\né¢¨ï¼ŒæŒ‡ç™¼æƒ…ã€‚é€™å¥è©±çš„æ„æ€æ˜¯ï¼Œç™¼æƒ…äº†çš„ç‰²ç•œä¹Ÿç¢°ä¸åˆ°ä¸€èµ·ã€‚\n\n\næ„Ÿæ‚Ÿ\n","categories":["å¤ä»£æ±‰è¯­","ç‹åŠ›ã€Šå¤ä»£æ±‰è¯­ã€‹ç¬”è®°"],"tags":["å¤ä»£æ±‰è¯­"]},{"title":"ä¸æƒ³å¹²æ´»ï¼Œè¶ç€æ–°é²œåŠ²å†å†™ç‚¹ä¸œè¥¿","url":"/2025/06/06/%E4%B8%8D%E6%83%B3%E5%B9%B2%E6%B4%BB%EF%BC%8C%E8%B6%81%E7%9D%80%E6%96%B0%E9%B2%9C%E5%8A%B2%E5%86%8D%E5%86%99%E7%82%B9%E4%B8%9C%E8%A5%BF/","content":"ä¸æƒ³å¹²æ´»ï¼Œè¶ç€æ–°é²œåŠ²å†å†™ç‚¹ä¸œè¥¿\næœ€è¿‘ä¸€ç›´åœ¨åšå¤§æ¨¡å‹è¯­ä¹‰ç¼“å­˜çš„é¡¹ç›®ï¼Œæˆ‘æ€»æœ‰ç§â€œä¸å®â€çš„æ„Ÿè§‰ã€‚è¿™ä»¶äº‹æƒ…æœ€æ—©ä¸¤ä¸‰å¹´å‰å°±å·²ç»æœ‰äººåœ¨åšï¼Œä½†æ˜¯ç›®å‰å¸‚åœºä¸Šä¾ç„¶æ²¡çœ‹åˆ°æœ‰ä¸€ä¸ªæˆç†Ÿçš„æ–¹æ¡ˆã€‚æˆ‘ä»¬ç»™å‡ºçš„æ–¹æ¡ˆä¹Ÿä¾ç„¶æ˜¯ä¾è‘«èŠ¦ç”»ç“¢ï¼Œæ²¡æœ‰è§£å†³æ ¸å¿ƒé—®é¢˜ï¼Œæˆ–è€…è¯´ï¼Œæˆ‘ä»¬ç›®å‰æä¸æ¸…æ¥šä»€ä¹ˆæ˜¯æ ¸å¿ƒé—®é¢˜ã€‚ä¸è¿‡æˆ‘ä¸æƒ³è°ˆè®ºçƒ¦å¿ƒäº‹ï¼Œå› ä¸ºè¿™ç§å°äº‹å¾ˆéš¾æ©ç›–æˆ‘æ‹¥æœ‰ä¸ªäººåšå®¢çš„å–œæ‚¦ã€‚\næˆ‘æƒ³è¯´ä¸€è¯´å¼€å¿ƒçš„äº‹æƒ…ã€‚å‰é˜µå­æ‰“ä¹’ä¹“çƒè®¤è¯†äº†ä¸€ä¸ªç®¡é™¢çš„ç”·ç”Ÿï¼Œå¾ˆç¬¦åˆæˆ‘å¯¹ç®¡ç†å­¦ä¸“ä¸šçš„åˆ»æ¿å°è±¡ï¼Œè¯´èµ·è¯æ¥ä¸€è‚¡å­æ“…é•¿puaçš„å…¬å¸è€æ¿çš„æ°”æ¯ã€‚ä»–æ€»æ˜¯è¯•å›¾å°†ä»–çš„æš´è®ºçŒè¾“ç»™æˆ‘ï¼Œæˆ‘å…¶å®å¾ˆéœ€è¦è¿™æ ·çš„æŒ‘æˆ˜ã€‚ä»¥å¾€æˆ‘çš„ç¤¾äº¤é¢å¾ˆçª„ï¼Œè¿™ç»™æˆ‘å¸¦æ¥äº†å¾ˆå¤šçš„å›°æ‰°ï¼Œä½†å½“æˆ‘çš„äººç”Ÿå¼€å§‹è¸å…¥æ–°çš„é˜¶æ®µï¼Œæˆ‘éå¸¸æ¸´æœ›æ”¹å˜ã€‚æˆ‘ä¸äººçš„è”ç³»é™¤äº†å‘ç”Ÿåœ¨å®éªŒå®¤ï¼Œä¹Ÿéšç€æˆ‘çš„çˆ±å¥½ï¼Œæ¯”å¦‚æ‰“ä¹’ä¹“çƒï¼Œé€æ¸æ‰©å……ã€‚åœ¨ä¹’ä¹“çƒä»¥å¤–çš„å¦ä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘é¢ä¸´ç€æ›´åŠ ä¸¥å³»çš„æŒ‘æˆ˜ï¼Œæ‰€ä»¥æˆ‘éå¸¸ä¹æ„æœ‰ç»ƒæ‰‹çš„æœºä¼šã€‚ä»–ä¼¼ä¹ä¹Ÿå¯¹éš”ä¸‰å·®äº”çš„äº‰è®ºå¾ˆæ„Ÿå…´è¶£ï¼Œä¸€æ¥äºŒå»æˆ‘ä»¬å±…ç„¶ä¹Ÿæˆäº†ä¸é”™çš„æœ‹å‹ã€‚ä¸æˆ‘æ¯å¤©ç›¸å¯¹å›ºå®šçš„ç”Ÿæ´»è½¨è¿¹ä¸åŒï¼Œä»–ç»å¸¸å‚åŠ å„ç±»ç¤¾äº¤æ´»åŠ¨ï¼Œéœ²è¥ã€æ¡Œæ¸¸ï¼Œæœ‰æ—¶ä¹Ÿä¼šå«ä¸Šæˆ‘ã€‚æˆ‘æ„è¯†åˆ°è¿™å°±æ˜¯æˆ‘æƒ³è±¡ä¸­é€šè¿‡å°‘é‡çš„ä¸­ç»§èŠ‚è§è¯†åˆ°æ›´å¤šèŠ‚ç‚¹çš„äº¤å‹æ–¹å¼ï¼Œè¿™è®©æˆ‘è½¬å˜å¯¹ä»–çš„å¯¹æŠ—æ€åº¦â€”â€”ä»–ä¹Ÿè®¸æ˜¯æˆ‘ç ”ç©¶ç”Ÿé˜¶æ®µçš„è´µäººã€‚\nä»Šå¤©æŠŠæˆåŠŸè®©æˆ‘çš„ç¬”è®°æœ¬ä¹Ÿå¯ä»¥å†™blogäº†ï¼Œè¿™ç§ç»Ÿä¸€æ„Ÿè¿˜æ˜¯å¾ˆèˆ’æœçš„ã€‚\nä»å®éªŒå®¤å›æ¥åƒé¥­ï¼Œå‡†å¤‡æ™šä¸Šå»æ‰“çƒï¼Œç”µæ¢¯å£é‡åˆ°äº†è¿‡å»çš„å®¤å‹ï¼Œä»–å³å°†è¯»åšã€‚ä¸€ç›´ä»¥æ¥æˆ‘å®³æ€•ç¢°åˆ°ä»–ä»¬ï¼Œäººå®¶å‡ºäºç¤¼è²Œçš„å¯’æš„ä¼šè®©æˆ‘å¾ˆå°´å°¬ã€‚ä½†æˆ‘è§‰å¾—æˆ‘åº”è¯¥æ›´å¦è¡ä¸€äº›ï¼Œæ¯”èµ·åˆ«äººæˆ‘ç¡®å®æµªè´¹äº†ä¸‰å¹´çš„æ—¶é—´ã€‚ä½†æ˜¯æˆ‘ä¸åº”è¯¥è§‰å¾—ç¾æ„§ï¼Œæˆ‘çš„æœ‹å‹ä»¬ä¹Ÿä¸ä¼šå› ä¸ºè¿™ä¸ªè€Œè½»è§†æˆ‘ã€‚æ›´ä½•å†µï¼Œæˆ‘ç°åœ¨é¢å¯¹çš„æ˜¯å…¨æ–°çš„äººç”Ÿï¼Œç§¯æå‘ä¸Šçš„ç”Ÿæ´»æœ¬èº«å°±å……æ»¡äº†åŠ›é‡ï¼Œè¶³ä»¥æŠµæŠ—ä¹Ÿè®¸ä¼šå­˜åœ¨çš„é—²è¨€ç¢è¯­ã€‚\nå¼€å¤´è¿™å‡ ç¯‡blogæ‚ä¹±å®½æ³›ï¼Œæˆ‘ä¸åº”è¯¥æŠŠblogå½“åšè‰ç¨¿ï¼Œè€Œåº”å½“æ˜¯æˆç†Ÿå®Œæ•´çš„æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘ä»¥åå°½å¯èƒ½ç»™æ¯ä¸€ç¯‡è®¾è®¡å¥½ä¸€ä¸ªå›ºå®šçš„ä¸»é¢˜ï¼Œåšä¸€äº›æœ‰æ·±åº¦çš„æ€è€ƒã€‚\n","categories":["æ‚è°ˆ","æ—¥å¿—"],"tags":["è®°å½•","æ‚è°ˆ","æ—¥å¿—","éšç¬”"]},{"title":"å„ç±»å°å·¥å…·ï¼ˆä¸€ï¼‰","url":"/2025/06/30/%E5%90%84%E7%B1%BB%E5%B0%8F%E5%B7%A5%E5%85%B7%EF%BC%88%E4%B8%80%EF%BC%89/","content":"æŸ¥çœ‹å›¾ç‰‡\n\n\n\nåç§°\nå®‰è£…\nç”¨æ³•\nç®€ä»‹\n\n\n\n\nviu\nbrew install viu\nviu img.jpg\nä»¥å­—ç¬¦è‰²å—çš„å½¢å¼æ˜¾ç¤ºå›¾ç‰‡\n\n\nchafa\nbrew install chafa\nchafa img.jpg\né»˜è®¤ç”»é¢æ›´åŠ ç²¾ç»†\n\n\n\nç»ˆç«¯å‘½ä»¤\n\n\n\nåç§°\nå®‰è£…\nç”¨æ³•\nç®€ä»‹\n\n\n\n\ntldr\nbrew install tldrnpm install -g tldr\ntldr å‘½ä»¤\næŸ¥çœ‹å‘½ä»¤ç”¨æ³•ï¼Œmançš„æ›¿ä»£\n\n\n\næ³¨ï¼š\n\ntldråˆ‡æ¢è¯­è¨€: å¯ä»¥ä½¿ç”¨tldr tldræŸ¥çœ‹è¯­è¨€ç›¸å…³å‘½ä»¤ï¼Œç”Ÿæˆé…ç½®ï¼ˆæœ‰å‘½ä»¤ï¼‰ï¼Œä¿®æ”¹å®Œå†™å…¥é…ç½®ï¼ˆç»™äº†æŸ¥çœ‹é…ç½®ä½ç½®çš„å‘½ä»¤ï¼‰é‡Œï¼Œè¿˜éœ€è¦ä½¿ç”¨æ›´æ–°å‘½ä»¤ï¼Œæœ€åå¯ä»¥æŸ¥çœ‹è¯­è¨€åˆ—è¡¨ã€‚\n\npythonå®ç”¨å·¥å…·\n\n\n\nåç§°\nå®‰è£…\nç”¨æ³•\nç®€ä»‹\n\n\n\n\npipdeptree\npip install pipdeptree\npipdeptreepipdeptree -p åŒ…å\næŸ¥çœ‹åŒ…ä¾èµ–å…³ç³»ï¼Œå¯ç”¨æ¥è¾…åŠ©æ¸…ç†ä¸ç”¨çš„åŒ…\n\n\n\nç¼–è¾‘æŠ€å·§\nå¯ä»¥åœ¨æ³¨é‡Šé‡Œæ·»åŠ TODOï¼Œæ’ä»¶Todo Treeå¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼Œå¹¶å½¢æˆæ–¹ä¾¿æŸ¥çœ‹è·³è½¬çš„æ ‘çŠ¶è§†å›¾ã€‚å¸¸ç”¨å…³é”®è¯å¦‚ä¸‹ï¼š\n\n\n\nå…³é”®è¯\nç”¨é€”è¯´æ˜\n\n\n\n\nTODO\nå¾…åŠäº‹é¡¹ï¼Œå°šæœªå®Œæˆçš„åŠŸèƒ½æˆ–ä»»åŠ¡\n\n\nFIXME\néœ€è¦ä¿®å¤çš„é—®é¢˜æˆ–é”™è¯¯\n\n\nBUG\næ˜ç¡®æ ‡è¯†å­˜åœ¨çš„ bug\n\n\nHACK\næš‚æ—¶æ€§ã€éç†æƒ³çš„å®ç°æ–¹å¼\n\n\nNOTE\né‡è¦è¯´æ˜æˆ–æé†’\n\n\nOPTIMIZE\nå¯èƒ½éœ€è¦ä¼˜åŒ–çš„ä»£ç \n\n\nREFACTOR\néœ€è¦é‡æ„çš„ä»£ç æ®µ\n\n\nä½¿ç”¨æ–¹æ³•ä¸¾ä¾‹ï¼š// TODO: å®ç°ç”¨æˆ·æƒé™æ ¡éªŒ\n\n\n\n\n","categories":["å®è·µæŒ‡å—","å°ç©æ„"],"tags":["è®°å½•","å·¥å…·ç”¨æ³•","å®è·µæŒ‡å—"]},{"title":"æ™šå®‰ï¼Œä¸–ç•Œ","url":"/2025/06/06/%E6%99%9A%E5%AE%89%EF%BC%8C%E4%B8%96%E7%95%8C/","content":"æ™šå®‰ï¼Œä¸–ç•Œ\nç°åœ¨æ˜¯0:30ï¼Œæˆ‘æœ¬å·²ä¸‹å†³å¿ƒä¸å†ç†¬å¤œï¼Œä½†åœ¨æˆ‘åˆä¸€æ¬¡å¬åˆ°ä¸ªäººåŸŸåçš„æƒ³æ³•ï¼Œæˆ‘å†³å®šè¡ŒåŠ¨èµ·æ¥ã€‚ä»å¤§çº¦åç‚¹ï¼Œä¸€ç›´åˆ°ç°åœ¨ï¼Œæˆ‘ç”³è¯·äº†lixiang.us.kgè¿™ä¸ªåŸŸåï¼Œåˆ›å»ºäº†cloudflareä¸Šçš„å›¾åºŠï¼Œç”¨hexoåˆ›å»ºå¹¶ä¸Šä¼ ç¬¬ä¸€ç¯‡åšå®¢åˆ°githubã€‚ä¸€åˆ‡éƒ½æ‰“é€šä»¥åï¼Œæˆ‘è·Ÿç€æ•™ç¨‹å®‰è£…äº†ç¬¬ä¸€ä¸ªä¸ªæ€§åŒ–ä¸»é¢˜â€”â€”Fluidã€‚éå¸¸æ„Ÿè°¢Bç«™upä¸»é™¶æ¸Šxiaoæ˜ï¼Œä»–çš„ä¸‰ä¸ªè§†é¢‘å®Œç¾è§£å†³äº†æˆ‘çš„å¤§å¤šæ•°é—®é¢˜ã€‚\nä¸ªäººåšå®¢ç»™æˆ‘çš„æ„Ÿå—ä¸æœ¬åœ°çš„æ—¥è®°å®Œå…¨ä¸åŒï¼Œå®ƒæä¾›äº†ä¸€ä¸å¯èƒ½æ€§ï¼Œå°±åƒæ˜¯é»‘æš—çš„æˆ¿å­è£‚å¼€äº†ä¸€é“ç¼éš™ï¼Œä¼ è¿›æ¥çš„å…‰æˆ–è®¸å¾ˆå°ï¼Œä½†å®ƒæ”¹å˜äº†ä¸€åˆ‡ã€‚åœ¨æœ¬åœ°çš„ç¬”è®°é‡Œï¼Œåªæœ‰ä¸€ä¸ªè§’è‰²ã€‚å›æƒ³èµ·æ¥ï¼Œæˆ‘å·²ç»å¾ˆä¹…æ²¡æœ‰å¥½å¥½å†™è¿‡æ—¥è®°ã€‚ä¸è‡ªå·±äº¤æµçš„æ–¹å¼ä»ä¸å¹»æƒ³çš„æ—¥è®°ç²¾çµå¯¹è¯å˜æˆäº†æ›´åŠ ç°å®ã€å†·å³»åœ°ä¸è‡ªå·±å¯¹è¯ï¼Œå¶å°”çš„æ•£æ­¥æˆä¸ºäº†å…¨éƒ¨å®¡è§†è‡ªèº«çš„æ—¶é—´ã€‚è¿™ä¸ªå²æ•°æˆ‘å·²å¾ˆéš¾æ²‰æµ¸åˆ°è¿‡å»é‚£ç§æ·±åº¦çš„å¹»æƒ³ä¸–ç•Œé‡Œï¼Œæˆ‘æ— æ³•å¯¹ç€æœ¬å­æˆ–è€…å±å¹•è™šæ„å‡ºä¸€ä¸ªå¬æˆ‘è¯‰è¯´çš„æœ‹å‹ï¼Œæˆ‘å¹¶ä¸æ˜¯è§‰å¾—å¯ç¬‘ï¼Œè€Œæ˜¯çœŸçš„æ— æ³•ä»£å…¥ã€‚è¿™æ„Ÿè§‰å°±åƒæ˜¯ï¼Œæˆ‘18å¹´ç©åˆ°ç¬¬ä¸€éƒ¨3Aï¼ˆåˆºå®¢ä¿¡æ¡ï¼šèµ·æºï¼‰æ—¶ï¼Œå…´å¥‹åˆ°æ¢¦é‡Œéƒ½æ˜¯é‚£ä¸ªä¸–ç•Œï¼Œä½†æ˜¯é¢å¯¹å»å¹´çš„åˆºå®¢ä¿¡æ¡ï¼šå¹»æ™¯ï¼Œæˆ‘å·²ç»æ— æ³•å¿½è§†å®ƒçš„å„ç§ç¼ºç‚¹ã€‚å¯¹ï¼Œå°±æ˜¯è¿™æ ·ï¼Œå¦‚æœæˆ‘è¦åœ¨é¢å‰è™šæ„ä¸€ä¸ªæœ‹å‹ï¼Œæˆ‘ä¼šä¸ç”±è‡ªä¸»åœ°æƒ³åˆ°è¿™ä»¶äº‹æƒ…çš„ä¸åˆç†æ€§ï¼ˆç–‘ç‚¹ï¼‰ã€‚å°±æ¯”å¦‚æˆ‘ä¼šè§‰å¾—è™šæ„çš„æœ‹å‹æ˜¯å­©ç«¥ç‰¹æœ‰çš„å¿ƒç†ç°è±¡ï¼Œæˆ‘æ„Ÿè§‰è¿™ä¹Ÿè®¸æ˜¯ç²¾ç¥åˆ†æå­¦çš„ç ”ç©¶èŒƒç•´ã€‚\nä¸è¿‡ä¸ç”¨å»ç®¡é‚£äº›äº‹æƒ…ï¼Œæ— å…³ç´§è¦ã€‚ç°åœ¨æˆ‘çš„å¯¹é¢æ˜¯æ— æ¯”çœŸå®çš„ä¸–ç•Œï¼Œè€Œä¸”æˆ‘ä»¬çš„è¿æ¥æ˜¯æœ€æµªæ¼«çš„æ–¹å¼ä¹‹ä¸€â€”â€”æœ‰é™ã€å¶ç„¶ã€‚è¿™åˆè®©æˆ‘å……æ»¡äº†åŠ¨åŠ›ã€‚\nåœ¨æˆ‘è¡ŒåŠ¨ä¹‹å‰æˆ‘å¯¹ä¸ªäººåšå®¢å¾ˆæ€€ç–‘ï¼Œæˆ‘åˆ†æä¸å‡ºå®ƒä¸æœ¬åœ°æ—¥å¿—æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ã€‚è¿™ç§æ€€ç–‘åœ¨æˆ‘å‡†å¤‡å…³æœºå›å®¿èˆçš„ä¸€ç¬é—´è¢«å½»åº•æ‰“æ¶ˆï¼Œçœ‹åˆ°Fluidè¿™ä¸ªä¸»é¢˜æ°›å›´ï¼Œæˆ‘å†³å®šè®©æˆ‘çš„åšå®¢ä»¥ä¸€ä¸ªæœ‰ä»ªå¼æ„Ÿçš„æ–¹å¼å‡ºç°ã€‚ã€Šæ™šå®‰ï¼Œä¸–ç•Œã€‹è¿™ä¸ªå¿µå¤´è¹¦å‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘æ„Ÿå—åˆ°äº†é‚£ç§éšæœºå´ç²¾å‡†çš„æ¨ç†æ–¹å¼â€”â€”è¿™ä¸ªé¢˜ç›®æœ¬åªæ˜¯ä¸ºäº†è¯´æ˜å¤œæ·±äº†ï¼Œä½†å´åœ¨ä¸ä¸–ç•Œçš„ç¬¬ä¸€æ¬¡è¿æ¥åˆ°æ„ä¹‰ä¸Šååˆ†åˆé€‚ã€‚\næ™šå®‰ï¼Œä¸–ç•Œï¼Œæ˜å¤©è§ã€‚\n","categories":["æ‚è°ˆ","æ—¥å¿—"],"tags":["è®°å½•","æ‚è°ˆ","æ—¥å¿—","éšç¬”"]},{"title":"è¿œç¨‹è¿æ¥win11ä¸»æœº","url":"/2025/06/09/%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5win11%E4%B8%BB%E6%9C%BA/","content":"è¿œç¨‹è¿æ¥win11ä¸»æœº\nsshï¼ˆä»…å‘½ä»¤è¡Œï¼‰\nå‘\n\n\næœåŠ¡ç«¯é˜²ç«å¢™è¦é…ç½®å…¥ç«™è§„åˆ™ï¼Œå¼€æ”¾22ç«¯å£ã€‚\n\n\nå®¢æˆ·ç«¯çš„å…¬é’¥åº”è¯¥æ”¾åœ¨å“ªã€‚\nChatGPT o3:\n\nç®¡ç†å‘˜è´¦æˆ·å¿…é¡»æŠŠå…¬é’¥å†™å…¥ C:\\ProgramData\\ssh\\administrators_authorized_keysâ€‹1ã€‚\néç®¡ç†å‘˜è´¦æˆ·ç”¨ %USERPROFILE%\\.ssh\\authorized_keysâ€‹2ã€‚\n\näº‹å®è¯æ˜è¿™ä¸€ç‚¹ä¸å‡†ç¡®ï¼ŒFixedIdiotä¸Šçš„weimoè´¦æˆ·ä¸è¢«è®¤ä¸ºæ˜¯ç®¡ç†å‘˜è´¦æˆ·ï¼Œä½†æ˜¯æ”¾åœ¨2æ²¡æœ‰æ•ˆæœï¼Œæ”¾åœ¨1å´å¯ä»¥ã€‚æˆ‘ä¼°è®¡æ˜¯å› ä¸ºåˆ¤æ–­æ ‡å‡†æ˜¯ç”¨æˆ·ç»„ï¼Œweimoåœ¨Administratorsç”¨æˆ·ç»„é‡Œã€‚\n\n\nRDPï¼ˆå¾®è½¯è¿œç¨‹è¿æ¥ï¼Œå›¾å½¢åŒ–ç•Œé¢ï¼‰\næ­¥éª¤\n\n\nWin11 æœåŠ¡å™¨ç«¯\nâ€œè®¾ç½® â†’ ç³»ç»Ÿ â†’ è¿œç¨‹æ¡Œé¢ â†’ æ‰“å¼€â€ï¼Œè®°ä¸‹è®¡ç®—æœºåå¹¶ç¡®è®¤ç”¨æˆ·åœ¨â€œè¿œç¨‹æ¡Œé¢ç”¨æˆ·â€åå•å†…ã€‚\n\n\nWin10 å®¢æˆ·ç«¯\nè¿è¡Œ mstscâ€‹ â†’ è¾“å…¥æœåŠ¡å™¨å/IP:PORTã€‚\n\n\nTips\n\nè¦æƒ³æ ¡å›­ç½‘å¯ä»¥è®¿é—®å®éªŒå®¤ç½‘ç»œï¼ˆæ ¡å›­ç½‘çš„å†…ç½‘ï¼‰å†…çš„ä¸»æœºï¼Œåˆ™éœ€è¦é…ç½®ä¸€ä¸‹ç«¯å£æ˜ å°„3389ã€TCPåè®®ã€‚\nä¸å…¶ä»–è¿œç¨‹æ¡Œé¢ã€å¤šç«¯ååŒçš„å·¥å…·å¯èƒ½ä¼šäº§ç”Ÿå†²çªï¼Œä¾‹å¦‚åŒæ—¶Mouse without Boardersä¼šå¯¼è‡´é¼ æ ‡æ¶ˆå¤±ã€‚\n\n\n\n","categories":["å®è·µæŒ‡å—","å°ç©æ„"],"tags":["è®°å½•","å·¥å…·ç”¨æ³•","å®è·µæŒ‡å—"]},{"title":"é…ç½®ä¸€ä¸ªèˆ’æœçš„wslå¼€å‘ç¯å¢ƒ","url":"/2025/06/26/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%E8%88%92%E6%9C%8D%E7%9A%84wsl%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","content":"ğŸ¦¦é…ç½®ä¸€ä¸ªèˆ’æœçš„wslå¼€å‘ç¯å¢ƒ\nBUG: â€œwsl: æ£€æµ‹åˆ° localhost ä»£ç†é…ç½®ï¼Œä½†æœªé•œåƒåˆ° WSLã€‚NAT æ¨¡å¼ä¸‹çš„ WSL ä¸æ”¯æŒ localhost ä»£ç†ã€‚â€\n\n\næ‰“å¼€æˆ–è€…åˆ›å»º%USERPROFILE%.wslconfigï¼Œæ·»åŠ \n [experimental]autoMemoryReclaim=gradual  # gradual  | dropcache | disablednetworkingMode=mirroreddnsTunneling=truefirewall=trueautoProxy=true\n\n\nå…³æœºwsl --shutdown Debianï¼Œé‡å¯wsl -d Debianã€‚\n\n\nå®‰è£…brewåŒ…ç®¡ç†å™¨\n\nå®‰è£…ä¾èµ–é¡¹ sudo apt-get install build-essential procps curl file gitã€‚\nå®‰è£…Homebrew /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;ã€‚\né…ç½®ç¯å¢ƒå˜é‡å’Œè½¯é“¾æ¥ echo 'eval &quot;$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)&quot;' &gt;&gt; $HOME/.bash_profileï¼Œeval &quot;$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)&quot;ã€‚\néªŒè¯å®‰è£…æˆåŠŸ brew doctorã€‚\nç”¨æ³•ï¼š\n\nbrew install &lt;package_name&gt;\nbrew remove &lt;package_name&gt;\nbrew list\nåˆ é™¤ä¸éœ€è¦çš„ä¾èµ– brew autoremove\n\n\nåˆ é™¤Homebrew /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh)&quot;\n\nå®‰è£…ã€é…ç½®nushell\n\nå®‰è£…nushell brew install nushell\nä¿®æ”¹nushellä¸ºé»˜è®¤shell\n\næ·»åŠ nuåˆ°shellåˆ—è¡¨é‡Œï¼Œæœ‰å‡ ç§æ–¹å¼ï¼Œè¡Œä¸ºå¯èƒ½å› æƒ…å†µä¸ç¡®å®šï¼Œå†™åœ¨è¿™ä½œå‚è€ƒï¼š\n\nbrewå®‰è£…nuçš„é»˜è®¤ä½ç½®æ˜¯/home/linuxbrew/.linuxbrew/bin/nuï¼Œæ•…å¯ä»¥echo &quot;/home/linuxbrew/.linuxbrew/bin/nu&quot; | sudo tee -a /etc/shellsã€‚\nåœ¨bashé‡Œæ‰§è¡Œwhich nu | sudo tee -a /etc/shellsã€‚\n\n\nä¿®æ”¹å½“å‰ç”¨æˆ·çš„é»˜è®¤shellï¼Œè¿™ä¹Ÿæœ‰å‡ ç§ä¸ç¡®å®šçš„æ–¹å¼ï¼š\n\nchsh -s $(which nu)ï¼Œæˆ–ä½¿ç”¨é»˜è®¤ä½ç½®ã€‚\nç›´æ¥ä¿®æ”¹/etc/passwdï¼Œå°†å¯¹åº”ç”¨æˆ·åŸæœ¬çš„.../bashæ”¹ä¸ºnuçš„ä½ç½®ï¼Œrootç”¨æˆ·å¯èƒ½ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚\n\n\né‡å¯wslï¼Œexitè‹¥æ— æ•ˆï¼Œå¯ä»¥ç”¨wsl --shutdown Debianã€‚\n\n\nä¸€ç‚¹å°é…ç½® # set default editor$env.config.buffer_editor = &quot;nvim&quot;# cancle default message when boot$env.config.show_banner = false\n\næ³¨ï¼š åˆ‡æ¢åˆ°nushellåç¯å¢ƒå˜é‡éƒ½æ²¡äº†ï¼Œbrewã€nushell ç­‰éƒ½éœ€è¦é‡æ–°åŠ å…¥ç¯å¢ƒå˜é‡ã€‚\n\nå®‰è£…ã€é…ç½®neovim\n\nå®‰è£…neovimï¼šbrew install neovim\nå®‰è£…Lazymanã€‚\n\nLazymançš„å„ç§é—®é¢˜\n\nneovimç‰ˆæœ¬éœ€è¦é«˜äº0.9ã€‚\nä½¿ç”¨lazymanï¼ˆå¯èƒ½éœ€è¦æ‰‹åŠ¨åŠ å…¥ç¯å¢ƒå˜é‡ï¼‰å‘½ä»¤æ‰“å¼€äº¤äº’å¼é…ç½®ç•Œé¢ã€‚\nèœå•åé¢å‡ ä¸ªå®‰è£…ä¾èµ–çš„éƒ½å¾—å…ˆè£…ä¸€ä¸‹ï¼Œä¹‹åå†å»å®‰è£…é…ç½®ã€‚\né…ç½®åˆ°nvimä¸Šéœ€è¦å†™å…¥ç¯å¢ƒå˜é‡ï¼Œä»¥nushellä¸ºä¾‹$env.NVIM_APPNAME = 'nvim-Python'ã€‚\nå¤åˆ¶ã€ç²˜è´´æ˜¯æœ‰æ—¶ä¼šæŠ¥é”™clipboard: error invoking wl copy/paste failed to connect to a wayland serverï¼Œå»/usr/binå°†wl-ccopyå’Œwl-pasteåˆ é™¤å³å¯ã€‚æ³¨ï¼šè¿™ä¸Waylandåè®®ï¼ˆç”¨äºsshç­‰åœºæ™¯ï¼‰æœ‰å…³ã€‚\n\n","categories":["å®è·µæŒ‡å—","å¤§ä¸œè¥¿","wsl"],"tags":["å·¥å…·","ç»ˆç«¯","å®è·µ","è®°å½•","x-cmd","wsl","Debian","nushell","brew"]}]